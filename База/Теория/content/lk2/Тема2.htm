<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List href="Тема2.files/filelist.xml">
<link rel=Edit-Time-Data href="Тема2.files/editdata.mso">
<link rel=OLE-Object-Data href="Тема2.files/oledata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>Тема-2:</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Неизвестный</o:Author>
  <o:Template>Normal</o:Template>
  <o:LastAuthor>Бранцевич</o:LastAuthor>
  <o:Revision>3</o:Revision>
  <o:TotalTime>5</o:TotalTime>
  <o:Created>2015-03-06T14:09:00Z</o:Created>
  <o:LastSaved>2015-05-12T14:50:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>7349</o:Words>
  <o:Characters>41891</o:Characters>
  <o:Lines>349</o:Lines>
  <o:Paragraphs>98</o:Paragraphs>
  <o:CharactersWithSpaces>49142</o:CharactersWithSpaces>
  <o:Version>11.9999</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:AutoHyphenation/>
  <w:HyphenationZone>17</w:HyphenationZone>
  <w:DrawingGridHorizontalSpacing>6 пт</w:DrawingGridHorizontalSpacing>
  <w:DrawingGridVerticalSpacing>6 пт</w:DrawingGridVerticalSpacing>
  <w:DisplayVerticalDrawingGridEvery>0</w:DisplayVerticalDrawingGridEvery>
  <w:UseMarginsForDrawingGridOrigin/>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:Compatibility>
   <w:SpaceForUL/>
   <w:BalanceSingleByteDoubleByteWidth/>
   <w:DoNotLeaveBackslashAlone/>
   <w:ULTrailSpace/>
   <w:DoNotExpandShiftReturn/>
   <w:UsePrinterMetrics/>
   <w:WW6BorderRules/>
   <w:FootnoteLayoutLikeWW8/>
   <w:ShapeLayoutLikeWW8/>
   <w:AlignTablesRowByRow/>
   <w:ForgetLastTabAlignment/>
   <w:AutoSpaceLikeWord95/>
   <w:LayoutRawTableWidth/>
   <w:LayoutTableRowsApart/>
   <w:UseWord97LineBreakingRules/>
   <w:SelectEntireFieldWithStartOrEnd/>
   <w:UseWord2002TableStyleRules/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:2;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;
	mso-font-charset:204;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-1610611985 1073750139 0 0 159 0;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;
	mso-font-charset:204;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:1627421319 -2147483648 8 0 66047 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:14.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
h1
	{mso-style-next:Обычный;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:1;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:16.0pt;
	font-family:Arial;
	mso-font-kerning:16.0pt;
	font-weight:bold;}
h2
	{mso-style-next:Обычный;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:2;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:14.0pt;
	font-family:Arial;
	font-weight:bold;
	font-style:italic;}
h3
	{mso-style-next:Обычный;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:3;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:13.0pt;
	font-family:Arial;
	font-weight:bold;}
h4
	{mso-style-next:Обычный;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:4;
	font-size:14.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:EN-US;
	mso-fareast-language:EN-US;
	font-weight:bold;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{mso-style-update:auto;
	mso-style-noshow:yes;
	mso-style-next:Обычный;
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:14.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{mso-style-update:auto;
	mso-style-noshow:yes;
	mso-style-next:Обычный;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:14.0pt;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:14.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{mso-style-update:auto;
	mso-style-noshow:yes;
	mso-style-next:Обычный;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:28.0pt;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:14.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoFootnoteText, li.MsoFootnoteText, div.MsoFootnoteText
	{mso-style-noshow:yes;
	mso-style-link:"Знак Знак";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:Calibri;
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-link:"Знак Знак3";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	tab-stops:center 233.85pt right 467.75pt;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:14.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-link:"Знак Знак2";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	tab-stops:center 207.65pt right 415.3pt;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:14.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
span.MsoFootnoteReference
	{mso-style-noshow:yes;
	vertical-align:super;}
p.MsoList, li.MsoList, div.MsoList
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:14.15pt;
	margin-bottom:.0001pt;
	text-indent:-14.15pt;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoList2, li.MsoList2, div.MsoList2
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:28.3pt;
	margin-bottom:.0001pt;
	text-indent:-14.15pt;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoBodyText, li.MsoBodyText, div.MsoBodyText
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoBodyTextIndent, li.MsoBodyTextIndent, div.MsoBodyTextIndent
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:14.15pt;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:14.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoBodyTextFirstIndent, li.MsoBodyTextFirstIndent, div.MsoBodyTextFirstIndent
	{mso-style-parent:"Основной текст";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	text-indent:10.5pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoBodyText2, li.MsoBodyText2, div.MsoBodyText2
	{margin:0cm;
	margin-bottom:.0001pt;
	text-indent:35.4pt;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:14.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
p.MsoPlainText, li.MsoPlainText, div.MsoPlainText
	{margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
p
	{mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
code
	{font-family:"Courier New";
	mso-ascii-font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Courier New";
	mso-bidi-font-family:"Courier New";}
tt
	{font-family:"Courier New";
	mso-ascii-font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Courier New";
	mso-bidi-font-family:"Courier New";}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-noshow:yes;
	mso-style-link:"Знак Знак1";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:8.0pt;
	font-family:Tahoma;
	mso-fareast-font-family:"Times New Roman";}
span.a
	{mso-style-name:"Знак Знак";
	mso-style-noshow:yes;
	mso-style-locked:yes;
	mso-style-link:"Текст сноски";
	font-family:Calibri;
	mso-ascii-font-family:Calibri;
	mso-hansi-font-family:Calibri;
	mso-ansi-language:RU;
	mso-fareast-language:RU;
	mso-bidi-language:AR-SA;}
span.3
	{mso-style-name:"Знак Знак3";
	mso-style-noshow:yes;
	mso-style-locked:yes;
	mso-style-link:"Верхний колонтитул";
	mso-ansi-font-size:14.0pt;
	mso-ansi-language:RU;
	mso-fareast-language:RU;
	mso-bidi-language:AR-SA;}
span.2
	{mso-style-name:"Знак Знак2";
	mso-style-locked:yes;
	mso-style-link:"Нижний колонтитул";
	mso-ansi-font-size:14.0pt;
	mso-ansi-language:RU;
	mso-fareast-language:RU;
	mso-bidi-language:AR-SA;}
span.1
	{mso-style-name:"Знак Знак1";
	mso-style-noshow:yes;
	mso-style-locked:yes;
	mso-style-link:"Текст выноски";
	mso-ansi-font-size:8.0pt;
	mso-bidi-font-size:8.0pt;
	font-family:Tahoma;
	mso-ascii-font-family:Tahoma;
	mso-hansi-font-family:Tahoma;
	mso-bidi-font-family:Tahoma;
	mso-ansi-language:RU;
	mso-fareast-language:RU;
	mso-bidi-language:AR-SA;}
p.Iauiue, li.Iauiue, div.Iauiue
	{mso-style-name:Iau?iue;
	mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.20, li.20, div.20
	{mso-style-name:"заголовок 2";
	mso-style-next:Обычный;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:12.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:Arial;
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	font-weight:bold;
	mso-bidi-font-weight:normal;
	font-style:italic;
	mso-bidi-font-style:normal;}
p.caaieiaie1, li.caaieiaie1, div.caaieiaie1
	{mso-style-name:"caaieiaie 1";
	mso-style-parent:Iau?iue;
	mso-style-next:Iau?iue;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:14.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.Iacaaiea, li.Iacaaiea, div.Iacaaiea
	{mso-style-name:Iacaaiea;
	mso-style-parent:Iau?iue;
	mso-style-next:Iau?iue;
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:14.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.Iniiaiieoaeno, li.Iniiaiieoaeno, div.Iniiaiieoaeno
	{mso-style-name:"Iniiaiie oaeno";
	mso-style-parent:Iau?iue;
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:14.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.caaieiaie3, li.caaieiaie3, div.caaieiaie3
	{mso-style-name:"caaieiaie 3";
	mso-style-parent:Iau?iue;
	mso-style-next:Iau?iue;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:15.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	text-transform:uppercase;}
p.Iniiaiieoaeno2, li.Iniiaiieoaeno2, div.Iniiaiieoaeno2
	{mso-style-name:"Iniiaiie oaeno 2";
	mso-style-parent:Iau?iue;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-indent:1.0cm;
	mso-pagination:none;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:14.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.caaieiaie4, li.caaieiaie4, div.caaieiaie4
	{mso-style-name:"caaieiaie 4";
	mso-style-parent:Iau?iue;
	mso-style-next:Iau?iue;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:14.2pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-indent:-14.2pt;
	mso-pagination:none;
	page-break-after:avoid;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:14.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.caaieiaie2, li.caaieiaie2, div.caaieiaie2
	{mso-style-name:"caaieiaie 2";
	mso-style-parent:Iau?iue;
	mso-style-next:Iau?iue;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:14.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:Arial;
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	font-weight:bold;
	mso-bidi-font-weight:normal;
	font-style:italic;
	mso-bidi-font-style:normal;}
p.caaieiaie5, li.caaieiaie5, div.caaieiaie5
	{mso-style-name:"caaieiaie 5";
	mso-style-parent:Iau?iue;
	mso-style-next:Iau?iue;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:14.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.caaieiaie6, li.caaieiaie6, div.caaieiaie6
	{mso-style-name:"caaieiaie 6";
	mso-style-parent:Iau?iue;
	mso-style-next:Iau?iue;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-indent:1.0cm;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:14.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.BodyText2, li.BodyText2, div.BodyText2
	{mso-style-name:"Body Text 2";
	mso-style-parent:Iau?iue;
	margin:0cm;
	margin-bottom:.0001pt;
	text-indent:35.4pt;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:14.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.Aaoieeeieiioeooe, li.Aaoieeeieiioeooe, div.Aaoieeeieiioeooe
	{mso-style-name:"Aa?oiee eieiioeooe";
	mso-style-parent:Iau?iue;
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	tab-stops:center 207.65pt right 415.3pt;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.Ieieeeieiioeooe, li.Ieieeeieiioeooe, div.Ieieeeieiioeooe
	{mso-style-name:"Ie?iee eieiioeooe";
	mso-style-parent:Iau?iue;
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	tab-stops:center 207.65pt right 415.3pt;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.Iaeeiaaiiuenienie, li.Iaeeiaaiiuenienie, div.Iaeeiaaiiuenienie
	{mso-style-name:"Ia?ee?iaaiiue nienie";
	mso-style-parent:Iau?iue;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:14.15pt;
	margin-bottom:.0001pt;
	text-indent:-14.15pt;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.11, li.11, div.11
	{mso-style-name:"заголовок 11";
	mso-style-next:Обычный;
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:14.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-ansi-language:EN-US;}
p.10, li.10, div.10
	{mso-style-name:"заголовок 1";
	mso-style-next:Обычный;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:15.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	text-transform:uppercase;}
p.PlainText, li.PlainText, div.PlainText
	{mso-style-name:"Plain Text";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
p.a0, li.a0, div.a0
	{mso-style-name:"Абзац списка";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:10.0pt;
	margin-left:36.0pt;
	mso-add-space:auto;
	line-height:115%;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	font-family:Calibri;
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
p.a0CxSpFirst, li.a0CxSpFirst, div.a0CxSpFirst
	{mso-style-name:"Абзац спискаCxSpFirst";
	mso-style-type:export-only;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:36.0pt;
	margin-bottom:.0001pt;
	mso-add-space:auto;
	line-height:115%;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	font-family:Calibri;
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
p.a0CxSpMiddle, li.a0CxSpMiddle, div.a0CxSpMiddle
	{mso-style-name:"Абзац спискаCxSpMiddle";
	mso-style-type:export-only;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:36.0pt;
	margin-bottom:.0001pt;
	mso-add-space:auto;
	line-height:115%;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	font-family:Calibri;
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
p.a0CxSpLast, li.a0CxSpLast, div.a0CxSpLast
	{mso-style-name:"Абзац спискаCxSpLast";
	mso-style-type:export-only;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:10.0pt;
	margin-left:36.0pt;
	mso-add-space:auto;
	line-height:115%;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	font-family:Calibri;
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
span.a1
	{mso-style-name:"Основной шрифт";
	mso-style-parent:"";}
span.Iniiaiieoeoo
	{mso-style-name:"Iniiaiie o?eoo";
	mso-style-parent:"";}
span.iiianoaieou
	{mso-style-name:"iiia? no?aieou";
	mso-style-parent:"Iniiaiie o?eoo";}
span.a2
	{mso-style-name:"номер страницы";}
 /* Page Definitions */
 @page
	{mso-footnote-separator:url("Тема2.files/header.htm") fs;
	mso-footnote-continuation-separator:url("Тема2.files/header.htm") fcs;
	mso-endnote-separator:url("Тема2.files/header.htm") es;
	mso-endnote-continuation-separator:url("Тема2.files/header.htm") ecs;}
@page Section1
	{size:21.0cm 842.0pt;
	margin:2.0cm 51.05pt 2.0cm 62.35pt;
	mso-header-margin:35.45pt;
	mso-footer-margin:39.7pt;
	mso-page-numbers:1;
	mso-title-page:yes;
	mso-even-footer:url("Тема2.files/header.htm") ef1;
	mso-footer:url("Тема2.files/header.htm") f1;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:442918710;
	mso-list-type:hybrid;
	mso-list-template-ids:-1254194240 68747277 68747267 68747269 68747265 68747267 68747269 68747265 68747267 68747269;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0FC;
	mso-level-tab-stop:36.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	font-family:Wingdings;}
@list l0:level2
	{mso-level-tab-stop:72.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l0:level3
	{mso-level-tab-stop:108.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l0:level4
	{mso-level-tab-stop:144.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l0:level5
	{mso-level-tab-stop:180.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l0:level6
	{mso-level-tab-stop:216.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l0:level7
	{mso-level-tab-stop:252.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l0:level8
	{mso-level-tab-stop:288.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l0:level9
	{mso-level-tab-stop:324.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1
	{mso-list-id:644051066;
	mso-list-type:hybrid;
	mso-list-template-ids:-731983362 367042888 68747289 68747291 68747279 68747289 68747291 68747279 68747289 68747291;}
@list l1:level1
	{mso-level-text:"%1\)";
	mso-level-tab-stop:46.35pt;
	mso-level-number-position:left;
	margin-left:46.35pt;
	text-indent:-18.0pt;}
@list l1:level2
	{mso-level-tab-stop:72.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1:level3
	{mso-level-tab-stop:108.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1:level4
	{mso-level-tab-stop:144.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1:level5
	{mso-level-tab-stop:180.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1:level6
	{mso-level-tab-stop:216.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1:level7
	{mso-level-tab-stop:252.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1:level8
	{mso-level-tab-stop:288.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1:level9
	{mso-level-tab-stop:324.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l2
	{mso-list-id:881795695;
	mso-list-type:simple;
	mso-list-template-ids:85984200;}
@list l2:level1
	{mso-level-text:"%1\. ";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	mso-level-legacy:yes;
	mso-level-legacy-indent:14.15pt;
	mso-level-legacy-space:0cm;
	margin-left:50.15pt;
	text-indent:-14.15pt;
	mso-ansi-font-size:14.0pt;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;}
ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Обычная таблица";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
table.MsoTableGrid
	{mso-style-name:"Сетка таблицы";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	border:solid windowtext 1.0pt;
	mso-border-alt:solid windowtext .5pt;
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-border-insideh:.5pt solid windowtext;
	mso-border-insidev:.5pt solid windowtext;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	mso-layout-grid-align:none;
	punctuation-wrap:simple;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="4098"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=RU link=blue vlink=purple style='tab-interval:1.0cm'>

<div class=Section1>

<h2><a name="_Toc215646265"></a><a name="_Toc41918438"></a><a
name="_Toc41918267"><span style='mso-bookmark:_Toc41918438'><span
style='mso-bookmark:_Toc215646265'>2.1. Файловая система ОС UNIX</span></span></a></h2>

<h3><a name="_Toc215646266"></a><a name="_Toc41918439"></a><a
name="_Toc41918268"><span style='mso-bookmark:_Toc41918439'><span
style='mso-bookmark:_Toc215646266'>2.1.1. Введение</span></span></a></h3>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>С точки зрения пользователей
в UNIX есть два типа объектов: файлы и процессы. Все данные хранятся в виде
файлов, а когда запускается программа, ядро загружает соответствующий
исполняемый файл, создаёт образ процесса и передаёт ему управление. Во время
работы процессы могут взаимодействовать с файлами.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Файлы в операционной системе
играют одну из важнейших ролей, т.к. в них хранятся не только данные, но файлы
также определяют и привилегии пользователей путём введения прав доступа к
файлам. При обращении пользователя к файлу сравниваются права доступа,
установленные для файла с правами конкретного пользователя. Файлы также
обеспечивают доступ к периферийным устройствам машины.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Файлы организованы в
древовидную файловую систему. Каждый файл имеет имя, определяющее его положение
в дереве файловой системы. Корнем дерева является корневой каталог с именем
“/”, имена всех остальных файлов содержат путь: <b style='mso-bidi-font-weight:
normal'>/home/student/proga.cpp</b><o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Имя файла </span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;font-family:Symbol;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-char-type:symbol;mso-symbol-font-family:Symbol'><span style='mso-char-type:
symbol;mso-symbol-font-family:Symbol'>&frac34;</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> атрибут файловой системы, а
не набора некоторых данных на диске. Каждый файл имеет связанные с ним
метаданные, которые хранятся в индексных дескрипторах. Индексный дескриптор
содержит все характеристики файла, позволяющие операционной системе выполнять
операции, затребованные прикладной задачей. В метаданных содержатся и указатели
на дисковые области, в которых хранятся данные.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Имя файла в файловой системе
</span><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt;font-family:
Symbol;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-char-type:symbol;mso-symbol-font-family:Symbol'><span style='mso-char-type:
symbol;mso-symbol-font-family:Symbol'>&frac34;</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> указатель на его
метаданные. Сами метаданные не содержат указателя на имя файла. Полное имя
файла не содержит указателя на физический носитель, где находится файл.<o:p></o:p></span></p>

<p class=Iauiue align=center style='text-align:center'><span style='font-size:
14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<h3><a name="_Toc215646267"></a><a name="_Toc41918440"></a><a
name="_Toc41918269"><span style='mso-bookmark:_Toc41918440'><span
style='mso-bookmark:_Toc215646267'><span style='text-transform:uppercase'>2.1.2.
Т</span>ипы</span></span></a><span style='mso-bookmark:_Toc41918269'><span
style='mso-bookmark:_Toc41918440'><span style='mso-bookmark:_Toc215646267'><span
style='font-size:15.0pt;mso-bidi-font-size:13.0pt'> файлов</span></span></span></span></h3>

<p class=Iauiue align=center style='text-align:center'><span style='font-size:
14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>В UNIX
существуют следующие типы файлов:<o:p></o:p></span></p>

<p class=Iauiue style='margin-left:50.15pt;text-align:justify;text-indent:-14.15pt;
mso-list:l2 level1 lfo2'><![if !supportLists]><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-list:Ignore'>1. <span
style='font:7.0pt "Times New Roman"'><span style='mso-spacerun:yes'> </span></span></span></span><![endif]><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Обычный файл<o:p></o:p></span></p>

<p class=Iauiue style='margin-left:50.15pt;text-align:justify;text-indent:-14.15pt;
mso-list:l2 level1 lfo2'><![if !supportLists]><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-list:Ignore'>2. <span
style='font:7.0pt "Times New Roman"'><span style='mso-spacerun:yes'> </span></span></span></span><![endif]><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Каталог<o:p></o:p></span></p>

<p class=Iauiue style='margin-left:50.15pt;text-align:justify;text-indent:-14.15pt;
mso-list:l2 level1 lfo2'><![if !supportLists]><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-list:Ignore'>3. <span
style='font:7.0pt "Times New Roman"'><span style='mso-spacerun:yes'> </span></span></span></span><![endif]><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Специальный файл устройства<o:p></o:p></span></p>

<p class=Iauiue style='margin-left:50.15pt;text-align:justify;text-indent:-14.15pt;
mso-list:l2 level1 lfo2'><![if !supportLists]><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-list:Ignore'>4. <span
style='font:7.0pt "Times New Roman"'><span style='mso-spacerun:yes'> </span></span></span></span><![endif]><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Файл FIFO или именованный
канал<o:p></o:p></span></p>

<p class=Iauiue style='margin-left:50.15pt;text-align:justify;text-indent:-14.15pt;
mso-list:l2 level1 lfo2'><![if !supportLists]><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-list:Ignore'>5. <span
style='font:7.0pt "Times New Roman"'><span style='mso-spacerun:yes'> </span></span></span></span><![endif]><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Связь (link)<o:p></o:p></span></p>

<p class=Iauiue style='margin-left:50.15pt;text-align:justify;text-indent:-14.15pt;
mso-list:l2 level1 lfo2'><![if !supportLists]><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-list:Ignore'>6. <span
style='font:7.0pt "Times New Roman"'><span style='mso-spacerun:yes'> </span></span></span></span><![endif]><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Сокет (socket)<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm;mso-pagination:
none'><b style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>Обычный файл</span></b><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>: наиболее общий тип файлов, содержащий данные в
некотором формате. Для операционной системы такие файлы представляют собой
просто последовательность байтов. Интерпретация содержимого определяется
прикладной программой, обрабатывающей файлы.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm;mso-pagination:
none'><b style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>Каталог</span></b><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>: файл, содержащий имена, находящихся в нём файлов,
а также указатели на дополнительную информацию (индексные дескрипторы),
позволяющую операционной системе производить операции над этими файлами.
Каталоги определяют положение файла в дереве файловой системы, т.к. сам файл не
содержит информации о своём местонахождении. По существу каталог представляет
собой таблицу, где каждая запись соответствует одному файлу.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm;mso-pagination:
none'><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm;mso-pagination:
none'><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .75pt;
 mso-padding-alt:0cm 5.4pt 0cm 5.4pt;mso-border-insideh:.75pt solid windowtext;
 mso-border-insidev:.75pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;height:12.1pt'>
  <td width=199 valign=top style='width:119.6pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt;height:
  12.1pt'><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt;font-family:
  "Times New Roman";mso-fareast-font-family:"Times New Roman";mso-ansi-language:
  RU;mso-fareast-language:RU;mso-bidi-language:AR-SA'><br clear=all
  style='page-break-before:always'>
  <br clear=all style='page-break-before:always'>
  </span>
  <p class=MsoNormal align=center style='margin-right:-3.7pt;text-align:center'>Индексные
  дескрипторы</p>
  </td>
  <td width=201 valign=top style='width:120.35pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .75pt;mso-border-alt:
  solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt;height:12.1pt'>
  <p class=MsoNormal align=center style='margin-right:-3.7pt;text-align:center'>Имена
  файлов</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;height:12.65pt'>
  <td width=199 valign=top style='width:119.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .75pt;mso-border-alt:
  solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt;height:12.65pt'>
  <p class=MsoNormal align=center style='margin-right:-3.7pt;text-align:center'>1753</p>
  </td>
  <td width=201 valign=top style='width:120.35pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .75pt;mso-border-left-alt:solid windowtext .75pt;
  mso-border-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt;height:
  12.65pt'>
  <p class=MsoNormal align=center style='margin-right:-3.7pt;text-align:center'><b
  style='mso-bidi-font-weight:normal'>.<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2;height:12.1pt'>
  <td width=199 valign=top style='width:119.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .75pt;mso-border-alt:
  solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt;height:12.1pt'>
  <p class=MsoNormal align=center style='margin-right:-3.7pt;text-align:center'>2036</p>
  </td>
  <td width=201 valign=top style='width:120.35pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .75pt;mso-border-left-alt:solid windowtext .75pt;
  mso-border-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt;height:
  12.1pt'>
  <p class=MsoNormal align=center style='margin-right:-3.7pt;text-align:center'><b
  style='mso-bidi-font-weight:normal'>. .<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3;height:12.65pt'>
  <td width=199 valign=top style='width:119.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .75pt;mso-border-alt:
  solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt;height:12.65pt'>
  <p class=MsoNormal align=center style='margin-right:-3.7pt;text-align:center'>751</p>
  </td>
  <td width=201 valign=top style='width:120.35pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .75pt;mso-border-left-alt:solid windowtext .75pt;
  mso-border-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt;height:
  12.65pt'>
  <p class=MsoNormal align=center style='margin-right:-3.7pt;text-align:center'>P1.txt</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4;mso-yfti-lastrow:yes;height:13.2pt'>
  <td width=199 valign=top style='width:119.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .75pt;mso-border-alt:
  solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt;height:13.2pt'>
  <p class=MsoNormal align=center style='margin-right:-3.7pt;text-align:center'>854</p>
  </td>
  <td width=201 valign=top style='width:120.35pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .75pt;mso-border-left-alt:solid windowtext .75pt;
  mso-border-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt;height:
  13.2pt'>
  <p class=MsoNormal align=center style='margin-right:-3.7pt;text-align:center'>P2.c</p>
  </td>
 </tr>
</table>

</div>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue align=center style='text-align:center'><span style='font-size:
14.0pt;mso-bidi-font-size:10.0pt'>Рис. 2.1. Таблица каталога <o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><b
style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>Специальный файл устройства</span></b><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>: обеспечивает доступ у физическому устройству. В UNIX
различаются символьные и блочные файлы устройств. Символьные устройства
применяются для не буферизированного обмена данными с устройствами (клавиатура,
экран терминала), а блочные файлы </span><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;font-family:Symbol;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-char-type:symbol;mso-symbol-font-family:
Symbol'><span style='mso-char-type:symbol;mso-symbol-font-family:Symbol'>&frac34;</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> для обмена данными в виде
пакетов фиксированной длины (дисковые накопители). К некоторым устройствам
доступ может быть как блочный, так и символьный. Доступ к устройствам, как и к
файлам, осуществляется путём открытия, чтения и записи в специальные файлы
устройств.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><b
style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>Файл FIFO</span></b><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'> или именованный канал: специальный файл для связи между процессами -
на запись и чтение и позволяет связать по данным несколько процессов. Поддержка
файла FIFO появилась в UNIX, начиная с Release-5.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><b
style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>Связь (link).</span></b><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'> Индексные дескрипторы не содержать ни имени файла, ни указателя на
него. Такой подход позволяет одному файлу иметь несколько имён в файловой
системе. Имена жёстко связаны с индексными дескрипторами, и, соответственно, с
данными файла, а сам файл существует независимо от того, как его называют, в
файловой системе. Такая связь имени файла с его данными - жёсткая связь.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>С помощью команды <o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><b
style='mso-bidi-font-weight:normal'><span lang=DE style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:DE'>ln P1.dat /home/katalog2/Name2</span></b><span
lang=DE style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
DE'><o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>будет создана жёсткая связь.<o:p></o:p></span></p>

<p class=caaieiaie4 style='margin-left:0cm;text-indent:1.0cm'>Жёсткие связи
абсолютно равноправны. Изменения, вносимые в файл, проявятся во всех файлах.</p>

<p class=Iniiaiieoaeno2>Жёсткая связь является естественной формой связи имени
файла с его индексным дескриптором и не принадлежит к особому типу файлов.</p>

<p class=MsoNormal style='margin-top:0cm;margin-right:-3.7pt;margin-bottom:
0cm;margin-left:12.0cm;margin-bottom:.0001pt;text-align:justify;mso-list:skip'><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:-3.7pt;margin-bottom:
0cm;margin-left:12.0cm;margin-bottom:.0001pt;text-align:justify;mso-list:skip'><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:-3.7pt;margin-bottom:
0cm;margin-left:219.75pt;margin-bottom:.0001pt;text-align:justify;mso-list:
skip'><span style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><!--[if gte vml 1]><v:shapetype
 id="_x0000_t75" coordsize="21600,21600" o:spt="75" o:preferrelative="t"
 path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="_x0000_i1029" type="#_x0000_t75" style='width:495pt;
 height:187.8pt'>
 <v:imagedata src="Тема2.files/image045.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=660 height=250
src="Тема2.files/image046.jpg" v:shapes="_x0000_i1029"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal style='margin-right:-3.7pt;text-align:justify;mso-list:skip'><span
style='font-size:12.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=center style='margin-right:-3.7pt;text-align:center'>Рис.
2.2.<span style='mso-spacerun:yes'>  </span>Структура каталогов</p>

<p class=MsoNormal style='margin-right:-3.7pt;text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm;mso-pagination:
none'><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Особым типом
файла является символическая связь, позволяющая косвенно адресовать файл, который,
в свою очередь, ссылается на другой файл. В результате последний файл в такой
цепочке адресуется символической связью косвенно. В файле,<span
style='mso-spacerun:yes'>  </span>который является символической связью,
содержится только имя целевого файла. Создать символическую связь можно с
помощью команды: <o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm;mso-pagination:
none'><b style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>ln -s Sym_</span></b><b style='mso-bidi-font-weight:
normal'><span lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;
mso-ansi-language:EN-US'>name</span></b><b style='mso-bidi-font-weight:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> /home/skatalog1/</span></b><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>P</span></b><b
style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>1.dat</span></b><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;mso-pagination:none'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Теперь по команде <b
style='mso-bidi-font-weight:normal'>cat Sym_</b></span><b style='mso-bidi-font-weight:
normal'><span lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;
mso-ansi-language:EN-US'>name</span></b><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'> на экран будет выведено содержимое файла </span><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>P</span><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>1.dat.<o:p></o:p></span></p>

<p class=Iniiaiieoaeno2>Таким образом, при обращении к файлу, который является
символической связью, действие переадресуется тому файлу, на который указывает
связь.</p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm;mso-pagination:
none'><b style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>Сокет (socket)</span></b><span style='font-size:
14.0pt;mso-bidi-font-size:10.0pt'>: специальный файл, предназначенный для
взаимодействия между процессами. Интерфейс сокетов часто используется для доступа
к сети TCP/IP, в некоторых реализациях с его помощью осуществляется
межпроцессорное взаимодействие.<o:p></o:p></span></p>

<span style='font-size:14.0pt;mso-bidi-font-size:10.0pt;font-family:"Times New Roman";
mso-fareast-font-family:"Times New Roman";mso-ansi-language:RU;mso-fareast-language:
RU;mso-bidi-language:AR-SA'><br clear=all style='mso-special-character:line-break;
page-break-before:always'>
</span>

<p class=MsoNormal style='margin-right:-3.7pt;text-align:justify;mso-list:skip'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-right:-3.7pt;text-align:justify;mso-list:skip'><o:p>&nbsp;</o:p></p>

<p class=Iauiue align=center style='text-align:center;text-indent:1.0cm;
mso-pagination:none'><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><!--[if gte vml 1]><v:shape
 id="_x0000_i1030" type="#_x0000_t75" style='width:414pt;height:285.6pt'>
 <v:imagedata src="Тема2.files/image047.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=552 height=381
src="Тема2.files/image048.jpg" v:shapes="_x0000_i1030"><![endif]><o:p></o:p></span></p>

<p class=Iauiue align=center style='text-align:center;text-indent:1.0cm;
mso-pagination:none'><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Рис.
2.3. Каталоги с жесткой и символической связями<o:p></o:p></span></p>

<p class=Iauiue align=center style='text-align:center;text-indent:1.0cm;
mso-pagination:none'><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>между
файлами<o:p></o:p></span></p>

<h3><a name="_Toc215646268"></a><a name="_Toc41918441"></a><a
name="_Toc41918270"><span style='mso-bookmark:_Toc41918441'><span
style='mso-bookmark:_Toc215646268'><span style='text-transform:uppercase'>2.1.3.
С</span>труктура файловой системы<span style='text-transform:uppercase'> UNIX</span></span></span></a></h3>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Корневой каталог </span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;font-family:Symbol;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-char-type:symbol;mso-symbol-font-family:Symbol'><span style='mso-char-type:
symbol;mso-symbol-font-family:Symbol'>&frac34;</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> основа файловой системы
UNIX. Все остальные файлы и каталоги располагаются в рамках структуры,
порождённой корневым каталогом, независимо от их физического местонахождения.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>В <b style='mso-bidi-font-weight:
normal'>/bin</b> находятся наиболее часто употребимые команды и утилиты системы.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>В <b
style='mso-bidi-font-weight:normal'>/dev</b> находятся специальные файлы
устройств, являющиеся интерфейсом доступа к периферийным устройствам. Этот
каталог может содержать несколько подкаталогов, группирующих несколько файлов
устройств одного типа.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>В <b
style='mso-bidi-font-weight:normal'>/etc</b> находятся системные конфигурационные
файлы и утилиты администрирования. Самые важные </span><span style='font-size:
14.0pt;mso-bidi-font-size:10.0pt;font-family:Symbol;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-char-type:symbol;mso-symbol-font-family:
Symbol'><span style='mso-char-type:symbol;mso-symbol-font-family:Symbol'>&frac34;</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> скрипты инициализации
системы, которые хранятся в каталогах rcN, где N </span><span style='font-size:
14.0pt;mso-bidi-font-size:10.0pt;font-family:Symbol;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-char-type:symbol;mso-symbol-font-family:
Symbol'><span style='mso-char-type:symbol;mso-symbol-font-family:Symbol'>&frac34;</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> номер, определяющий уровень
выполнения системы.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>В <b
style='mso-bidi-font-weight:normal'>/default</b> находятся параметры,
задающиеся по умолчанию для многих команд.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>В <b
style='mso-bidi-font-weight:normal'>/lib</b> находятся библиотечные файлы C и
других языков программирования.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Каталог
<b style='mso-bidi-font-weight:normal'>/lost+found</b> </span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;font-family:Symbol;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-char-type:symbol;mso-symbol-font-family:Symbol'><span style='mso-char-type:
symbol;mso-symbol-font-family:Symbol'>&frac34;</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> каталог потерянных файлов.
При аппаратных сбоях и сбоях операционной системы могут появляться безымянные
файлы. Программы проверки и восстановления помещают сюда неповреждённые
безымянные файлы под числовыми именами.<o:p></o:p></span></p>

<p class=Iauiue align=center style='text-align:center'><o:p>&nbsp;</o:p></p>

<p class=Iauiue align=center style='text-align:center'><o:p>&nbsp;</o:p></p>

<p class=Iauiue align=center style='text-align:center'><o:p>&nbsp;</o:p></p>

<p class=Iauiue align=center style='text-align:center'><!--[if gte vml 1]><v:shape
 id="_x0000_i1031" type="#_x0000_t75" style='width:540pt;height:285.6pt'>
 <v:imagedata src="Тема2.files/image049.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=720 height=381
src="Тема2.files/image050.jpg" v:shapes="_x0000_i1031"><![endif]></p>

<p class=Iauiue align=center style='text-align:center'><o:p>&nbsp;</o:p></p>

<p class=Iauiue align=center style='text-align:center;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Рис. 2.4. <span
style='text-transform:uppercase'>С</span>труктура файловой системы<span
style='text-transform:uppercase'> UNIX<o:p></o:p></span></span></p>

<p class=Iauiue align=center style='text-align:center;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Каталог
<b style='mso-bidi-font-weight:normal'>/mnt</b> </span><span style='font-size:
14.0pt;mso-bidi-font-size:10.0pt;font-family:Symbol;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-char-type:symbol;mso-symbol-font-family:
Symbol'><span style='mso-char-type:symbol;mso-symbol-font-family:Symbol'>&frac34;</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><span
style='mso-spacerun:yes'>  </span>стандартный каталог для временного связывания
(монтирования) физических файловых систем к корневой для получения единого дерева
логической файловой системы. Обычно содержимое этого каталога пусто, т.к. при
монтировании он перекрывается связанной файловой системой.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Каталог
<b style='mso-bidi-font-weight:normal'>/home</b> предназначен для размещения
каталогов пользователей.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Каталог
<b style='mso-bidi-font-weight:normal'>/usr</b> </span><span style='font-size:
14.0pt;mso-bidi-font-size:10.0pt;font-family:Symbol;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-char-type:symbol;mso-symbol-font-family:
Symbol'><span style='mso-char-type:symbol;mso-symbol-font-family:Symbol'>&frac34;</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> каталог различных сервисных
систем.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>В
каталоге <b style='mso-bidi-font-weight:normal'>/spool</b> находятся
выполняемые файлы утилит UNIX.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Каталог
<b style='mso-bidi-font-weight:normal'>/tmp</b> предназначен для хранения
временных файлов для работы UNIX.<o:p></o:p></span></p>

<p class=Iauiue align=center style='text-align:center'><span style='font-size:
14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<h3><a name="_Toc215646269"><span style='text-transform:uppercase'>2.1.4. </span>Владельцы
файлов</a></h3>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Файлы в
UNIX имеют двух владельцев: пользователя и группу. <b style='mso-bidi-font-weight:
normal'>Группой</b> называется некий список пользователей системы. Пользователь
может быть членом нескольких групп, одна из которых является первичной, другие </span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;font-family:Symbol;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-char-type:symbol;mso-symbol-font-family:Symbol'><span style='mso-char-type:
symbol;mso-symbol-font-family:Symbol'>&frac34;</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> дополнительными.
Владелец-пользователь может не быть членом группы, владеющей файлом. Это
обеспечивает возможность организовать гибкую систему владения файлами для
любого состава пользователей. Для определения владельцев файла используется команда
<b style='mso-bidi-font-weight:normal'>ls – l</b> для просмотра файлов
каталогом. При этом в двух столбиках выводится имя владельца файла и имя
владельца-группы. <o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Владельцем-пользователем
вновь созданного файла является пользователь, создавший файл. Но реально файл
создает не пользователь, а процесс, запущенный пользователем.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Процесс имеет атрибуты,
связанные с пользователем и группой, которые назначаются в файл при его
создании. Идентификатор владельца-пользователя устанавливается равным
эффективному пользовательскому идентификатору процесса, создающего файл.
Порядок назначения владельца-группы зависит от конкретной реализации
операционной системы. Примером может быть назначение первичной группы
владельца-пользователя. Владельцем-группой может стать группа, владеющая
каталогом, в котором создан файл. Для изменения владельца файла используется
команда <b style='mso-bidi-font-weight:normal'>chown</b>:<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>chown stud1 p1.c p2.c t.txt<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Первый
параметр определяет пользователя, а далее следует список файлов, пользователем
(владельцем) которых становится субъект, определяемый первым аргументом.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Для
изменения владельца-группы используется команда:<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>chgrp ppt *.c<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Владение
файлом определяется набором операций, которые пользователь может совершать с
файлом. Изменение прав доступа или изменение владельца файла может осуществлять
только владелец или суперпользователь. Операции чтения-записи или запуск на
выполнение дополнительно контролируются правами доступа.<o:p></o:p></span></p>

<p class=Iauiue align=center style='text-align:center'><span style='font-size:
14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<h3><a name="_Toc215646270"></a><a name="_Toc41918444"></a><a
name="_Toc41918273"><span style='mso-bookmark:_Toc41918444'><span
style='mso-bookmark:_Toc215646270'>2.1.5.<span style='mso-spacerun:yes'> 
</span>Права доступа</span></span></a><span style='mso-bookmark:_Toc215646270'>
к файлу</span></h3>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iniiaiieoaeno2>В операционной системе UNIX существует три базовых
класса доступа к файлу, в каждом из которых установлены права доступа к файлу.
Эти классы следующие.</p>

<p class=Iniiaiieoaeno2>1. Класс владельца-пользователя файла.</p>

<p class=Iniiaiieoaeno2>2. Класс членов группы, являющейся владельцем файлов.</p>

<p class=Iniiaiieoaeno2>3. Класс остальных пользователей, кроме
суперпользователя.</p>

<p class=Iauiue style='margin-left:35.25pt'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>Поддерживается три типа прав доступа для каждого
класса:<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>- на чтение;<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>- на запись;<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>- на выполнение.<o:p></o:p></span></p>

<p class=Iauiue style='tab-stops:36.0pt'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>Если выполнить команду <b style='mso-bidi-font-weight:
normal'>ls –l</b>, то на экран выводится полный список файлов для каталога,
который является текущим :<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='margin-left:2.0cm;text-indent:1.0cm'><span lang=DE
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:DE'>- | rwx
rwx rwx<span style='mso-spacerun:yes'>    </span>1.stud1 gr1 … f1.dat<o:p></o:p></span></p>

<p class=Iauiue style='margin-left:2.0cm;text-indent:1.0cm'><!--[if gte vml 1]><v:line
 id="_x0000_s1569" style='position:absolute;left:0;text-align:left;flip:x y;
 z-index:3;mso-position-horizontal:left' from="0,16.7pt" to="12pt,28.7pt">
 <v:stroke endarrow="block"/>
 <w:wrap type="square"/>
</v:line><![endif]--><![if !vml]><img width=22 height=22
src="Тема2.files/image038.gif" align=left hspace=12 v:shapes="_x0000_s1569"><![endif]><!--[if gte vml 1]><v:line
 id="_x0000_s1568" style='position:absolute;left:0;text-align:left;flip:y;
 z-index:2;mso-position-horizontal:left' from="0,16.7pt" to="12pt,28.7pt">
 <v:stroke endarrow="block"/>
 <w:wrap type="square"/>
</v:line><![endif]--><![if !vml]><img width=22 height=22
src="Тема2.files/image039.gif" align=left hspace=12 v:shapes="_x0000_s1568"><![endif]><span
lang=DE style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
DE'>- | r-x<span style='mso-spacerun:yes'>   </span>r-x<span
style='mso-spacerun:yes'>  </span>- - -<span style='mso-spacerun:yes'>   
</span>2.stud2 gr1 … f2.dat<o:p></o:p></span></p>

<p class=Iauiue style='margin-left:2.0cm;text-indent:1.0cm'><span lang=DE
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:DE'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='margin-left:72.0pt;text-indent:-18.0pt;tab-stops:72.0pt'><span
lang=DE style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
DE'><span style='mso-spacerun:yes'> </span></span><i style='mso-bidi-font-style:
normal'><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>тип файла<span
style='mso-spacerun:yes'>       </span>категории пользователя</span></i><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p></o:p></span></p>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><span
style='mso-tab-count:1'>        </span>Первый символ определяет тип файла:<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>d<span style='mso-spacerun:yes'>  </span>-<span
style='mso-spacerun:yes'>  </span>каталог,<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>c<span style='mso-spacerun:yes'>  </span>-
специальное символьное устройство,<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>p – поименованный FIFO файл,<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>- - обычный файл,<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>b - блоковое устройство.<o:p></o:p></span></p>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><span
style='mso-tab-count:1'>        </span>Группы из трех символов:<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>I - права доступа пользователя,<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>II - права доступа группы,<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>III - права остальных пользователей.<o:p></o:p></span></p>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><span
style='mso-tab-count:1'>        </span>Обозначения внутри группы:<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>- - нет доступа по данной категории,<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>r<span style='mso-spacerun:yes'>  </span>- право на
чтение,<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>w - право на запись,<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>x - право на выполнение.<o:p></o:p></span></p>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><span
style='mso-tab-count:1'>        </span>Права доступа могут быть изменены только
владельцем файла или суперпользователем. <o:p></o:p></span></p>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><span
style='mso-tab-count:1'>        </span>Для этого используется команда:<o:p></o:p></span></p>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-padding-alt:0cm 5.4pt 0cm 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=104 valign=top style='width:62.1pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue align=center style='text-align:center'><span
  style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=29 valign=top style='width:17.25pt;border-top:none;border-left:
  solid windowtext 1.0pt;border-bottom:none;border-right:solid windowtext 1.0pt;
  mso-border-left-alt:solid windowtext .75pt;mso-border-right-alt:solid windowtext .75pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue align=center style='text-align:center'><span
  style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>u<o:p></o:p></span></p>
  </td>
  <td width=29 valign=top style='width:17.3pt;border:none;border-right:solid windowtext 1.0pt;
  mso-border-right-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue align=center style='text-align:center'><span
  style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>+<o:p></o:p></span></p>
  </td>
  <td width=29 valign=top style='width:17.25pt;border:none;border-right:solid windowtext 1.0pt;
  mso-border-right-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue align=center style='text-align:center'><span
  style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>r<o:p></o:p></span></p>
  </td>
  <td width=115 valign=top style='width:68.7pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue align=center style='text-align:center'><span
  style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=104 valign=top style='width:62.1pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue align=center style='text-align:center'><span lang=EN-US
  style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>c</span><span
  style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>hmod<o:p></o:p></span></p>
  </td>
  <td width=29 valign=top style='width:17.25pt;border-top:none;border-left:
  solid windowtext 1.0pt;border-bottom:none;border-right:solid windowtext 1.0pt;
  mso-border-left-alt:solid windowtext .75pt;mso-border-right-alt:solid windowtext .75pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue align=center style='text-align:center'><span
  style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>g<o:p></o:p></span></p>
  </td>
  <td width=29 valign=top style='width:17.3pt;border:none;border-right:solid windowtext 1.0pt;
  mso-border-right-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue align=center style='text-align:center'><span
  style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>-<o:p></o:p></span></p>
  </td>
  <td width=29 valign=top style='width:17.25pt;border:none;border-right:solid windowtext 1.0pt;
  mso-border-right-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue align=center style='text-align:center'><span
  style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>w<o:p></o:p></span></p>
  </td>
  <td width=115 valign=top style='width:68.7pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue align=center style='text-align:center'><span
  style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>f<sub>1</sub><span
  style='mso-spacerun:yes'>  </span>f<sub>2</sub><span
  style='mso-spacerun:yes'>  </span>f<sub>3</sub><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=104 valign=top style='width:62.1pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue align=center style='text-align:center'><span
  style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=29 valign=top style='width:17.25pt;border-top:none;border-left:
  solid windowtext 1.0pt;border-bottom:none;border-right:solid windowtext 1.0pt;
  mso-border-left-alt:solid windowtext .75pt;mso-border-right-alt:solid windowtext .75pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue align=center style='text-align:center'><span
  style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>o<o:p></o:p></span></p>
  </td>
  <td width=29 valign=top style='width:17.3pt;border:none;border-right:solid windowtext 1.0pt;
  mso-border-right-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue align=center style='text-align:center'><span
  style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>=<o:p></o:p></span></p>
  </td>
  <td width=29 valign=top style='width:17.25pt;border:none;border-right:solid windowtext 1.0pt;
  mso-border-right-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue align=center style='text-align:center'><span
  style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>x<o:p></o:p></span></p>
  </td>
  <td width=115 valign=top style='width:68.7pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue align=center style='text-align:center'><span
  style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3;mso-yfti-lastrow:yes'>
  <td width=104 valign=top style='width:62.1pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue align=center style='text-align:center'><span
  style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=29 valign=top style='width:17.25pt;border-top:none;border-left:
  solid windowtext 1.0pt;border-bottom:none;border-right:solid windowtext 1.0pt;
  mso-border-left-alt:solid windowtext .75pt;mso-border-right-alt:solid windowtext .75pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue align=center style='text-align:center'><span
  style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>a<o:p></o:p></span></p>
  </td>
  <td width=29 valign=top style='width:17.3pt;border:none;border-right:solid windowtext 1.0pt;
  mso-border-right-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue align=center style='text-align:center'><span
  style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=29 valign=top style='width:17.25pt;border:none;border-right:solid windowtext 1.0pt;
  mso-border-right-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue align=center style='text-align:center'><span
  style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=115 valign=top style='width:68.7pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue align=center style='text-align:center'><span
  style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
</table>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>chmod
a + w t.txt<o:p></o:p></span></p>

<p class=Iauiue><span lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:
10.0pt;mso-ansi-language:EN-US'>chmod g+x-w r.out<o:p></o:p></span></p>

<p class=Iauiue><span lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:
10.0pt;mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue><span lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:
10.0pt;mso-ansi-language:EN-US'><span style='mso-tab-count:1'>        </span></span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Команда имеет следующие
аргументы.<o:p></o:p></span></p>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><span
style='mso-tab-count:1'>        </span>Первый символ - определение классов
доступа:<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>u - владелец-пользователь,<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>g - владелец-группа,<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>o - остальные пользователи,<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>a - все классы пользователей.<o:p></o:p></span></p>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><span
style='mso-tab-count:1'>        </span>Следующий символ - операция, которую
следует провести:<o:p></o:p></span></p>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>+<span style='mso-spacerun:yes'>  </span>- добавить
права,<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>-<span style='mso-spacerun:yes'>  </span>- удалить
права,<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>= - присвоить права.<o:p></o:p></span></p>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><span
style='mso-tab-count:1'>        </span><o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Следующий
символ определяет права, которые прибавляются, удаляются или присваиваются, а
далее - список файлов, по отношению к которым выполняется действие.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Таким образом, можно
изменять права доступа к файлам.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Значение прав доступа
различно для разных типов файлов. Например, чтобы просмотреть содержимое файла
с помощью команды <b style='mso-bidi-font-weight:normal'>cat</b>, пользователь
должен иметь право на чтение. Для редактирования файла и его изменения должно
быть право на запись. Для запуска программы на выполнение должно быть право на
выполнение. Например, для того, чтобы распечатать файл на принтере, необходимо
право на запись специального устройства, связанного с принтером.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Права на доступ к каталогам
имеют специфические особенности. К примеру, право чтения каталога позволяет
получить лишь имена файлов, находящихся в данном каталоге. Для получения
дополнительной информации, например получения команды <b style='mso-bidi-font-weight:
normal'>ls –l</b>, требуется обращение к индексным дескрипторам файла, что требует
наличия прав выполнения для каталога. Право выполнения каталога требуется и для
команды <b style='mso-bidi-font-weight:normal'>cd</b>. Права чтения и
выполнения для каталогов действуют независимо. Комбинацией этих прав можно
добиться создания “темных каталогов”, файлы которых доступны только в том
случае, если пользователь знает заранее их имена, так как получение списка
файлов в таких каталогах запрещено. Этот подход может быть использован для
построения некоторых справочных систем, когда отдельным пользователям
сообщаются имена разделов, с которыми они могут работать, а остальные файлы им
недоступны.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Создание и удаление файлов в
каталоге требует изменения его содержимого и следовательно, права на запись в
этот каталог. При этом не учитываются права доступа для самого файла, то есть
для удаления файла из каталога не требуется каких-либо прав доступа к файлу,
нужно иметь лишь право на доступ для каталога, в котором содержится файл. <o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Операционная система
проводит проверку прав доступа при создании, открытии для чтения или записи,
запуске на выполнение или удалении файлов. При этом выполняются следующие
проверки:<o:p></o:p></span></p>

<p class=Iniiaiieoaeno2 style='mso-pagination:widow-orphan'>1. Если операция
запрашивается суперпользователем, никакие дополнительные проверки не
производятся. Это позволяет администратору иметь неограниченный доступ ко всей
файловой системе. </p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>2. Если операция
запрашивается владельцем файла, то, если требуемое право доступа определено, доступ
разрешается. В противном случае - доступ запрещается.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>3. Если операция
запрашивается пользователем, являющимся членом группы, которая является
владельцем файла, то, если требуемое право доступа определено, доступ
разрешается, в противном случае </span><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;font-family:Symbol;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-char-type:symbol;mso-symbol-font-family:
Symbol'><span style='mso-char-type:symbol;mso-symbol-font-family:Symbol'>&frac34;</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> запрещается.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>4. Если требуемое право
доступа для прочих пользователей установлено, то доступ разрешается, в
противном случае доступ запрещается.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-spacerun:yes'> </span><span
style='mso-tab-count:1'>       </span>Система проводит проверки в данной
последовательности. К примеру, если пользователь является владельцем файла, то
доступ определяется исключительно из прав доступа владельца. Права владельца
группы не проверяются, даже если пользователь является членом владельца-группы.<o:p></o:p></span></p>

<p class=Iauiue style='margin-left:35.25pt'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<h3><a name="_Toc41918445"></a><a name="_Toc41918274"></a><a
name="_Toc215646271"><span style='mso-bookmark:_Toc41918274'><span
style='mso-bookmark:_Toc41918445'><span style='text-transform:uppercase'>2.1.6.
Д</span>ополнительные атрибуты файлов по управлению правами</span></span></a><span
style='mso-bookmark:_Toc41918274'><span style='mso-bookmark:_Toc41918445'> </span></span></h3>

<h3 style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto'><span
style='mso-bookmark:_Toc41918274'><span style='mso-bookmark:_Toc41918445'><span
style='mso-spacerun:yes'>          </span><a name="_Toc215646272">доступа</a></span></span></h3>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iniiaiieoaeno style='text-align:justify'><span style='mso-tab-count:
1'>        </span>Существует несколько дополнительных атрибутов, изменяющих стандартное
выполнение различных операций. Это относится как к обычным файлам, так и к
каталогам.</p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid black .75pt;
 mso-padding-alt:0cm 5.4pt 0cm 5.4pt;mso-border-insideh:.75pt solid black;
 mso-border-insidev:.75pt solid black'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=33 valign=top style='width:19.6pt;border:solid black 1.0pt;
  mso-border-alt:solid black .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue align=center style='text-align:center'><span
  style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>t<o:p></o:p></span></p>
  </td>
  <td width=189 valign=top style='width:4.0cm;border:solid black 1.0pt;
  border-left:none;mso-border-left-alt:solid black .75pt;mso-border-alt:solid black .75pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
  mso-bidi-font-size:10.0pt'>Sticky bit<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=33 valign=top style='width:19.6pt;border:solid black 1.0pt;
  border-top:none;mso-border-top-alt:solid black .75pt;mso-border-alt:solid black .75pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue align=center style='text-align:center'><span
  style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>s<o:p></o:p></span></p>
  </td>
  <td width=189 valign=top style='width:4.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;mso-border-top-alt:
  solid black .75pt;mso-border-left-alt:solid black .75pt;mso-border-alt:solid black .75pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
  mso-bidi-font-size:10.0pt'>Set UID, SUID<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=33 valign=top style='width:19.6pt;border:solid black 1.0pt;
  border-top:none;mso-border-top-alt:solid black .75pt;mso-border-alt:solid black .75pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue align=center style='text-align:center'><span
  style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>s<o:p></o:p></span></p>
  </td>
  <td width=189 valign=top style='width:4.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;mso-border-top-alt:
  solid black .75pt;mso-border-left-alt:solid black .75pt;mso-border-alt:solid black .75pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
  mso-bidi-font-size:10.0pt'>Set GID, SGID<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3;mso-yfti-lastrow:yes'>
  <td width=33 valign=top style='width:19.6pt;border:solid black 1.0pt;
  border-top:none;mso-border-top-alt:solid black .75pt;mso-border-alt:solid black .75pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue align=center style='text-align:center'><span
  style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>l<o:p></o:p></span></p>
  </td>
  <td width=189 valign=top style='width:4.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;mso-border-top-alt:
  solid black .75pt;mso-border-left-alt:solid black .75pt;mso-border-alt:solid black .75pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
  mso-bidi-font-size:10.0pt'>Блокирование<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>t - сохранить образ выполняемого файла после
завершения;<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>s - установить пользовательский идентификатор
процесса при выполнении;<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>s - установить групповой идентификатор процесса при
выполнении;<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>1 - установить обязательное блокирование файлов при
выполнении<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Для
установления атрибутов используется та же команда<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=caaieiaie1 style='text-align:justify'>chmod u+s f1</p>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Атрибут
<b style='mso-bidi-font-weight:normal'>t</b>: после завершения выполнения
задачи ее образ (код и данные) остаются в памяти, что приводит к тому, что
последующие запуски программы занимают намного меньше времени.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Атрибуты
<b style='mso-bidi-font-weight:normal'>SUID</b> и <b style='mso-bidi-font-weight:
normal'>SGID</b> позволяют изменить права пользователя при запуске на
выполнение файла, имеющего эти атрибуты. Обычно запускаемая программа, имеет
права доступа к системным ресурсам на основе прав доступа пользователя,
запустившего программу. Установка флагов SUID или SGID изменяет эти правила,
назначая права доступа владельцев исполняемых файлов. То есть, если
владельцем-пользователем является суперпользователь, то неограниченные права
доступа к системным ресурсам получает и пользователь, запустивший этот файл. <o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Атрибут
<b style='mso-bidi-font-weight:normal'>1</b> используется для устранения
конфликтов, когда одновременно несколько задач работают с одним и тем же
файлом. <o:p></o:p></span></p>

<p class=MsoBodyText style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;text-indent:1.0cm'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>Для каталогов устанавливаются только два дополнительных параметра: t и s.
Установка t для каталога позволяет установить дополнительную защиту файлов,
находящихся в каталоге. Из такого каталога пользователь может удалить только те
файлы, которыми он владеет или на которые он имеет право доступа на запись,
даже при наличии прав на запись в каталог.<o:p></o:p></span></p>

<p class=Iniiaiieoaeno2><span style='mso-tab-count:1'>        </span>Это
используется при работе с каталогом временных файлов ТМР, который открыт на
запись для всех пользователей, но в котором нежелательно удаление каталогов
файлов других пользователей.</p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Атрибут
<b style='mso-bidi-font-weight:normal'>SGID</b> тоже имеет специальное значение
для каталогов. При установке этого атрибута для каталога вновь созданные файлы
этого каталога будут наследовать владельца-группу по владельцу-группе каталога.<o:p></o:p></span></p>

<p class=MsoBodyText style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;text-indent:1.0cm'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'><o:p>&nbsp;</o:p></span></p>

<h3 style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto'><a
name="_Toc215646273"><span style='text-transform:uppercase'>2.1.7. </span>Устройства</a></h3>

<p class=MsoBodyText style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;text-indent:1.0cm'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoBodyText style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;text-indent:1.0cm'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>ОС UNIX изолирует приложения от аппаратной части вычислительной
системы. Она предоставляет единый интерфейс различных устройств системы в виде
специальных файлов устройств. Специальный файл связывает прикладное приложение
с драйвером устройства. Каждый специальный файл соответствует какому-либо
физическому устройству (диск, устройство печати, терминал). <o:p></o:p></span></p>

<p class=MsoBodyText style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;text-indent:1.0cm'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>Вся работа приложения с устройством происходит через специальный файл,
а соответствующий ему драйвер обеспечивает выполнение операций I/O в соответствии
с конкретным протоколом обмена данными с устройством. Существуют файлы блочных
устройств и файлы символьных устройств. Файлы блочных устройств обеспечивают
интерфейс устройствам, обмен данными с которыми происходит большими фрагментами
- блоками. При этом ядро ОС обеспечивает нужную буферизацию. <o:p></o:p></span></p>

<p class=MsoBodyText style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;text-indent:1.0cm'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>Файлы символьных устройств используются для доступа к устройствам,
драйверы которых обеспечивают собственную буферизацию и побайтную передачу
данных (накопители на магнитной ленте, терминалы). Одно и тоже устройство может
иметь как блочный, так и символьный интерфейсы. Названия специальных файлов
устройств зависят от конкретной версии UNIX, но при этом присутствуют некоторые
правила названия таких устройств: <o:p></o:p></span></p>

<p class=MsoBodyText style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;text-indent:1.0cm'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>c<i style='mso-bidi-font-style:normal'>k</i>t<i style='mso-bidi-font-style:
normal'>l</i>d<i style='mso-bidi-font-style:normal'>m</i>s<i style='mso-bidi-font-style:
normal'>n</i>, <o:p></o:p></span></p>

<p class=MsoBodyText style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;text-indent:1.0cm'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>где k - номер контроллера;<o:p></o:p></span></p>

<p class=MsoList2 style='margin-left:0cm;text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>l - номер устройства;<o:p></o:p></span></p>

<p class=MsoList2 style='margin-left:0cm;text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>m - номер раздела;<o:p></o:p></span></p>

<p class=MsoList2 style='margin-left:0cm;text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>n - логический номер
устройства.<o:p></o:p></span></p>

<p class=MsoList style='margin-left:0cm;text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>/dev/rmtn - накопитель на магнитной
ленте;<o:p></o:p></span></p>

<p class=MsoList style='margin-left:0cm;text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>/dev/cdn - CD-ROM;<o:p></o:p></span></p>

<p class=MsoList style='margin-left:0cm;text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>/dev/ttypn - подчиненный
псевдотерминал;<o:p></o:p></span></p>

<p class=MsoList style='margin-left:0cm;text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>/dev/console - системная
консоль;<o:p></o:p></span></p>

<p class=MsoList style='margin-left:0cm;text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>/dev/tty - терминальная
линия управляющего терминала для данного процесса;<o:p></o:p></span></p>

<p class=MsoList style='margin-left:0cm;text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>/dev/mem - физическое ОЗУ;<o:p></o:p></span></p>

<p class=MsoList style='margin-left:0cm;text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>/dev/kmem - виртуальная
память ядра;<o:p></o:p></span></p>

<p class=MsoList style='margin-left:0cm;text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>/dev/null - нулевое
устройство, весь вывод на него пропадает, а при попытке ввода из этого
устройства возвращается 0 байт информации;<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;text-indent:1.0cm'>/dev/zero -
нулевое устройство, весь вывод на него уничтожается, а ввод приводит к
получению последовательности нулей.</p>

<p class=Iauiue style='text-align:justify;text-indent:35.4pt'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>При выводе каталога <b
style='mso-bidi-font-weight:normal'>ls -l</b> можно определить, какое это
специальное устройство и какой номер драйвера используется при его работе.<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><u>Пример:<o:p></o:p></u></i></p>

<p class=MsoNormal style='text-align:justify'><i style='mso-bidi-font-style:
normal'>/* вывод информации на принтер */<o:p></o:p></i></p>

<p class=MsoNormal style='text-align:justify'><i style='mso-bidi-font-style:
normal'><span lang=EN-US style='mso-ansi-language:EN-US'>#include
&lt;fcntl.h&gt;<o:p></o:p></span></i></p>

<p class=MsoNormal style='text-align:justify'><i style='mso-bidi-font-style:
normal'><span lang=EN-US style='mso-ansi-language:EN-US'>main()<o:p></o:p></span></i></p>

<p class=MsoNormal style='text-align:justify'><i style='mso-bidi-font-style:
normal'><span lang=EN-US style='mso-ansi-language:EN-US'>{ int I, fd;<o:p></o:p></span></i></p>

<p class=MsoNormal style='text-align:justify'><i style='mso-bidi-font-style:
normal'><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>  </span><o:p></o:p></span></i></p>

<p class=MsoNormal style='text-align:justify'><i style='mso-bidi-font-style:
normal'><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>  </span>fd=open(“/dev/lp”,O_WRONLY);<o:p></o:p></span></i></p>

<p class=MsoNormal style='text-align:justify'><i style='mso-bidi-font-style:
normal'><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>  </span>for (i=0;i&lt;500;i++) write(fd,”x”,1);<o:p></o:p></span></i></p>

<p class=MsoNormal style='text-align:justify'><i style='mso-bidi-font-style:
normal'><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>  </span>close(fd);<o:p></o:p></span></i></p>

<p class=MsoNormal style='text-align:justify'><i style='mso-bidi-font-style:
normal'><span lang=EN-US style='mso-ansi-language:EN-US'>}<o:p></o:p></span></i></p>

<p class=MsoNormal style='text-align:justify'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>  </span><o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><u>Прототип</u></i><i style='mso-bidi-font-style:
normal'><u><span lang=EN-US style='mso-ansi-language:EN-US'>:<o:p></o:p></span></u></i></p>

<p class=MsoNormal style='text-align:justify'><i style='mso-bidi-font-style:
normal'><span lang=EN-US style='mso-ansi-language:EN-US'>#include
&lt;sys/statvfs.h&gt;<o:p></o:p></span></i></p>

<p class=MsoNormal style='text-align:justify'><i style='mso-bidi-font-style:
normal'><span lang=EN-US style='mso-ansi-language:EN-US'>int statvfs(const char
*path, struct statvfs *buf);<o:p></o:p></span></i></p>

<p class=MsoNormal style='text-align:justify'><i style='mso-bidi-font-style:
normal'><span lang=EN-US style='mso-ansi-language:EN-US'>int fstatvfs(int
fd,struct statvfs *buf);<o:p></o:p></span></i></p>

<p class=MsoNormal style='text-align:justify'><span lang=EN-US
style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify'><i style='mso-bidi-font-style:
normal'><span lang=EN-US style='mso-ansi-language:EN-US'>struct statvfs<o:p></o:p></span></i></p>

<p class=MsoNormal style='text-align:justify'><i style='mso-bidi-font-style:
normal'><span lang=EN-US style='mso-ansi-language:EN-US'>{<o:p></o:p></span></i></p>

<p class=MsoNormal style='text-align:justify'><span lang=EN-US
style='mso-ansi-language:EN-US'><span style='mso-spacerun:yes'>  </span><i
style='mso-bidi-font-style:normal'>unsigned long f_bsize</i>; - </span>размер<span
style='mso-ansi-language:EN-US'> </span>блока<span style='mso-ansi-language:
EN-US'> </span>данных<span lang=EN-US style='mso-ansi-language:EN-US'>,<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify'><span lang=EN-US
style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>                        </span><span
style='mso-spacerun:yes'>                </span></span>при<span
style='mso-spacerun:yes'>  </span>которой наибольшая производительность</p>

<p class=MsoNormal style='text-align:justify'><span style='mso-spacerun:yes'> 
</span><i style='mso-bidi-font-style:normal'>unsigned long f_frsize</i>; -
основной размер блока в файловой системе</p>

<p class=MsoNormal style='text-align:justify'><span style='mso-spacerun:yes'> 
</span><i style='mso-bidi-font-style:normal'>unsigned long f_block</i>; -
полное число блоков</p>

<p class=MsoNormal style='text-align:justify'><span style='mso-spacerun:yes'> 
</span><i style='mso-bidi-font-style:normal'>unsigned long f_bfree</i>; -
полное число свободных блоков</p>

<p class=MsoNormal style='text-align:justify'><span style='mso-spacerun:yes'> 
</span><i style='mso-bidi-font-style:normal'>unsigned long f_avail</i>; - число
свободных блоков,</p>

<p class=MsoNormal style='text-align:justify'><span
style='mso-spacerun:yes'>                                       
</span>доступных непривелигированным пользователям</p>

<p class=MsoNormal style='text-align:justify'><span style='mso-spacerun:yes'> 
</span><i style='mso-bidi-font-style:normal'>unsigned long f_files</i>;<span
style='mso-spacerun:yes'>   </span>- полное число номеров индексных
дескрипторов</p>

<p class=MsoNormal style='text-align:justify'><span style='mso-spacerun:yes'> 
</span><i style='mso-bidi-font-style:normal'>unsigned long f_ffree</i>;<span
style='mso-spacerun:yes'>   </span>- полное число свободных номеров ИД</p>

<p class=MsoNormal style='text-align:justify'><span style='mso-spacerun:yes'> 
</span><i style='mso-bidi-font-style:normal'>unsigned long f_favail</i>; -
число номеров ИД, доступных непривелигированным процессам</p>

<p class=MsoNormal style='text-align:justify'><span style='mso-spacerun:yes'> 
</span><i style='mso-bidi-font-style:normal'>unsigned long f_fsid</i>;<span
style='mso-spacerun:yes'>    </span>- идентификатор файловой системы</p>

<p class=MsoNormal style='text-align:justify'><span style='mso-spacerun:yes'> 
</span><i style='mso-bidi-font-style:normal'>unsigned long f_flag</i>;<span
style='mso-spacerun:yes'>    </span>- битовая маска значений флагов</p>

<p class=MsoNormal style='text-align:justify'><span style='mso-spacerun:yes'> 
</span><i style='mso-bidi-font-style:normal'>unsigned long f_namemax</i>; -
максимальная длина файла</p>

<p class=MsoNormal style='text-align:justify'><i style='mso-bidi-font-style:
normal'>}<o:p></o:p></i></p>

<h3><a name="_Toc215646274"></a><a name="_Toc41918448"></a><a
name="_Toc41918277"><span style='mso-bookmark:_Toc41918448'><span
style='mso-bookmark:_Toc215646274'>2.1.8. Системные вызовы и библиотечные
функции</span></span></a></h3>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><span
style='mso-tab-count:1'>        </span>В среде программирования UNIX существует
два основных интерфейса для файлового ввода-вывода:<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>1. Системные вызовы,
предлагающие основные функции работы с файлами,<span style='mso-spacerun:yes'> 
</span>непосредственно взаимодействующие с ядром операционной системы.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>2. Стандартная библиотека функций ввода-вывода.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>К основным системным функциям для работы с файлами
относятся:<o:p></o:p></span></p>

<p class=Iauiue><i style='mso-bidi-font-style:normal'><span style='font-size:
14.0pt;mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span></span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>#include &lt;sys/types.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'><span
style='mso-tab-count:1'>        </span>#include &lt;sys/stat.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'><span
style='mso-tab-count:1'>        </span>#include &lt;fcntl.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>#include &lt;unistd.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>int</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'> </span></i><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>open</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>(</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>const</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'> </span></i><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>char</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> *</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>pathname</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>.</span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>tnt</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'> </span></i><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>flags</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> [, </span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>mode</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>_</span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>t</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'> </span></i><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>mode</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>])</span></i><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> - предназначен для
получения доступа на чтение (запись, чтение-запись) к указанному файлу. Если
файл существует, он открывается и процессу возвращается файловый дескриптор,
используемый при выполнении последующих действий с фалом (при выполнении операций
чтения, записи и т.п.).<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>int creat (const char *pathname, mode_t mode)</span></i><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'> - </span><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>применяется</span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'> </span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>для</span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'> </span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>создания</span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'> </span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>файла</span><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>int</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> сlose</span></i><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> - закрывает файловый
дескриптор.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>dup</span></i><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> - возвращает дубликат
файлового дескриптора.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>dup2 </span></i><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>- возвращает дубликат файлового
дескриптора, но еще позволяет явно задать его значение.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>off</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>_</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>t</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'> lseek (</span></i><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>int</span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> </span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>filedes</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>, </span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>off</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>_</span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>t</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'> </span></i><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>offset</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>, </span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>int</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'> </span></i><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>stont</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>_</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>flag</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>)</span></i><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> -
устанавливает файловый указатель на определенное место файла. Последующие
операции чтения (записи) будут производиться, начиная с этого смещения. <o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>ssize</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>_</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>t</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'> read (</span></i><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>int</span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> </span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>filedes</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>, </span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>void</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'> *</span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>buffer</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>,</span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>site</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>_</span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>t</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'> </span></i><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>n</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>)</span></i><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>- осуществляет чтение заданного
количества байтов из файла.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>read</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>v</span></i><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> - осуществляет несколько
операций чтения заданного количества байтов из файла.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>ssize</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>_</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>t</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'> write (</span></i><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>int</span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> </span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>filedes</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>, </span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>void</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'> *</span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>buffer</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>,</span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>site</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>_</span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>t</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'> </span></i><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>n</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>)</span></i><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> - выполняет запись заданного
количества байтов в файл.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>writev</span></i><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> - выполняет несколько
операций записи заданного количества байтов в файл.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>pipe</span></i><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> - создает канал для
передачи данных, возвращая два файловых дескриптора, один для выполнения
операций чтения, а другой - операций записи.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>int</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> fcnt</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>l</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'> (</span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>int</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'> </span></i><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>filedes</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>, </span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>int</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'> </span></i><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>cmd</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>, …)</span></i><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> - обеспечивает выполнение
функций управления открытым файлом.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><u><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p><span style='text-decoration:
 none'>&nbsp;</span></o:p></span></u></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><u><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>Примеры:<o:p></o:p></span></u></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><u><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'><o:p><span style='text-decoration:none'>&nbsp;</span></o:p></span></u></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>/* копирование одного файла в другой */<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>#include &lt;unistd.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>#include &lt;fcntl.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>#define BUFSIZE 512<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>int copyfile(const char
*name1,const char *name2)<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>{ int in_f,out_f;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span>ssize_t n;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>char buffer[BUFSIZE];<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span><o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>if
((in_f=open(name1,O_RDONLY))==-1) return (-1);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>if
((out_f=open(name2,O_WRONLY|O_CREAT|O_TRUNC,0777)==-1)<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>{<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>    </span>close(in_f);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>    </span>return (-2);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>}<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>while ((n=read(in_f,buffer,BUFSIZE))&gt;0)<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>{<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>    </span>if
(write(out_f,buffer,n)&lt;n)<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>    </span>{<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>      </span>close(in_f);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>      </span>close(out_f);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>      </span>return (-3);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>    </span>}<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>}<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>close(in_f);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>close(out_f);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>if (n==-1) return (-4);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>    </span>else return (0);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>}<o:p></o:p></span></i></p>

<div style='mso-element:para-border-div;border:none;border-bottom:solid windowtext 1.5pt;
padding:0cm 0cm 1.0pt 0cm'>

<p class=Iauiue style='text-indent:1.0cm;border:none;mso-border-bottom-alt:
solid windowtext 1.5pt;padding:0cm;mso-padding-alt:0cm 0cm 1.0pt 0cm'><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'><o:p>&nbsp;</o:p></span></i></p>

</div>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>/* отображение содержимого
файла порциями */<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>#</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>include</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'> &lt;</span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>sys</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>/</span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>types</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>.</span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>h</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>&gt;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>#include &lt;unistd.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>#include &lt;stdio.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>#define NAMELENGTH 41<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>#define N_ROOMS 20<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><o:p>&nbsp;</o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>char name_buf[NAMELENGTH];<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>int in_f=1;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><o:p>&nbsp;</o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>char *get_occupior ( int room_no)<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>{ off_t offset;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>size_t nread;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><o:p>&nbsp;</o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>if ((in_f==-1) &amp;&amp; (in_f=open(“residents”,O_RDONLY))==-1)<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>       </span>return(NULL);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>offset=(room_no-1)*NAMELENGTH;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>if
(lseek(in_f,offset,SEEK_SET)==-1) return (NULL);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>if
(nread=read(in_t,name_buf,NAMELENGTH)) return(NULL);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>namebuf[nread-1]=”\0”;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>return(namebuf);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>}<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><o:p>&nbsp;</o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>main()<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>{ int j;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>char *p;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><o:p>&nbsp;</o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>for (j=1;j&lt;=N_ROOMS;j++)<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>{<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>    </span>if (p=get_occupior(j))
printf(“</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Комната</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'> %d, %s\n”,j,p0;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>      </span>else printf(“</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>Ошибка</span></i><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>”);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>}<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>close(in_f);<o:p></o:p></span></i></p>

<div style='mso-element:para-border-div;border:none;border-bottom:solid windowtext 1.5pt;
padding:0cm 0cm 1.0pt 0cm'>

<p class=Iauiue style='text-indent:1.0cm;border:none;mso-border-bottom-alt:
solid windowtext 1.5pt;padding:0cm;mso-padding-alt:0cm 0cm 1.0pt 0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>}<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm;border:none;mso-border-bottom-alt:
solid windowtext 1.5pt;padding:0cm;mso-padding-alt:0cm 0cm 1.0pt 0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></i></p>

</div>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><o:p>&nbsp;</o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>/* </span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>отображение</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt;mso-ansi-language:EN-US'> </span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>статуса</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt;mso-ansi-language:EN-US'> </span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>файла</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'> */<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>int file_status(int filedes)<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>{ int arg;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>if ((arg=fcntl(filedes,F_GETFL))==-1)<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span></span></i><i style='mso-bidi-font-style:
normal'><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>{ </span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>printf</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>(“Ошибка чтения статуса файла\</span></i><i style='mso-bidi-font-style:
normal'><span lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;
mso-ansi-language:EN-US'>n</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>”) </span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>return</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'> (-1); }<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><span
style='mso-spacerun:yes'>  </span></span></i><i style='mso-bidi-font-style:
normal'><span lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;
mso-ansi-language:EN-US'>switch(arg&amp;ACCMODE)<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>{<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>    </span>case O_WRONLY : printf(“</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>Только</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'> </span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>для</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'> </span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>записи</span></i><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>\n”); break;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>    </span>case</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'> </span></i><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>O</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>_</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>RDWR</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'><span style='mso-spacerun:yes'>     </span>: </span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>printf</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>(“Для чтения и записи\</span></i><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>n</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>”); </span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>break</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><span
style='mso-spacerun:yes'>    </span></span></i><i style='mso-bidi-font-style:
normal'><span lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;
mso-ansi-language:EN-US'>case</span></i><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> </span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>O</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>_</span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>RDONLY</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'> : </span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>printf</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>(“Только для чтения”); </span></i><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>break</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><span
style='mso-spacerun:yes'>         </span></span></i><i style='mso-bidi-font-style:
normal'><span lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;
mso-ansi-language:EN-US'>default</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><span
style='mso-spacerun:yes'>            </span>: </span></i><i style='mso-bidi-font-style:
normal'><span lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;
mso-ansi-language:EN-US'>printf</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>(“Режим не существует\</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>n</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>”);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><span
style='mso-spacerun:yes'>  </span>}<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><span
style='mso-spacerun:yes'>  </span></span></i><i style='mso-bidi-font-style:
normal'><span lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;
mso-ansi-language:EN-US'>if</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> (</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>arg</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>&amp;</span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>O</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>_</span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>APPEND</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>) </span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>printf</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>(“Установлен режим дозаписи\</span></i><i style='mso-bidi-font-style:
normal'><span lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;
mso-ansi-language:EN-US'>n</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>”);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><span
style='mso-spacerun:yes'>  </span></span></i><i style='mso-bidi-font-style:
normal'><span lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;
mso-ansi-language:EN-US'>return</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>(0);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>}<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><u><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>Порядок проверки прав доступа при обращениии к
файлам<o:p></o:p></span></u></p>

<p class=Iauiue style='text-indent:1.0cm'><u><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p><span style='text-decoration:none'>&nbsp;</span></o:p></span></u></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>Если пользователь является владельцем файла, то
проверяются те права, которые установлены для категории владельца файла. Если
они разрешены – то действие выполняется, иначе -<span
style='mso-spacerun:yes'>  </span>нет.<span style='mso-spacerun:yes'> 
</span>Если действия выполняет пользователь группы владельцев, то проверяются
права группы пользователей. Дополнительные права доступа для исполняемых файлов
: <o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>04000<span style='mso-tab-count:2'>              </span></span><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>S</span><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>_</span><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>ISVID</span><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><span
style='mso-spacerun:yes'>     </span>(1)<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>02000<span style='mso-tab-count:2'>              </span></span><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>S</span><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>_</span><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>ISGOD</span><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><span
style='mso-spacerun:yes'>   </span>(2)<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>01000<span
style='mso-tab-count:2'>              </span>S_ISVIX<span
style='mso-spacerun:yes'>     </span>(3)<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='margin-left:46.35pt;text-indent:-18.0pt;mso-list:l1 level1 lfo4;
tab-stops:list 46.35pt'><![if !supportLists]><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-list:Ignore'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Права доступа проверяются по
идентификатору владельца файла;<o:p></o:p></span></p>

<p class=Iauiue style='margin-left:46.35pt;text-indent:-18.0pt;mso-list:l1 level1 lfo4;
tab-stops:list 46.35pt'><![if !supportLists]><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-list:Ignore'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Для группы владельцев</span><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>;</span><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p></o:p></span></p>

<p class=Iauiue style='margin-left:46.35pt;text-indent:-18.0pt;mso-list:l1 level1 lfo4;
tab-stops:list 46.35pt'><![if !supportLists]><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-list:Ignore'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Бит сохранения сегмента кода
(для каталогов);<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>Реальный идентификатор – идентификатор, который
получается при входе в систему. Эффективный идентификатор получается при
проверке прав доступа к файлу. В большинстве случаев реальный и эффективный иднтификаторы
совпадают.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><!--[if mso & !supportInlineShapes & supportFields]><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><span style='mso-element:
field-begin;mso-field-lock:yes'></span><span style='mso-spacerun:yes'> </span>SHAPE
<span style='mso-spacerun:yes'> </span>\* MERGEFORMAT <span style='mso-element:
field-separator'></span></span><![endif]--><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><!--[if gte vml 1]><v:group id="_x0000_s1460"
 editas="canvas" style='width:300pt;height:132pt;
 mso-position-horizontal-relative:char;mso-position-vertical-relative:line'
 coordorigin="2334,821" coordsize="4500,1980">
 <o:lock v:ext="edit" aspectratio="t"/>
 <v:shape id="_x0000_s1461" type="#_x0000_t75" style='position:absolute;left:2334;
  top:821;width:4500;height:1980' o:preferrelative="f">
  <v:fill o:detectmouseclick="t"/>
  <v:path o:extrusionok="t" o:connecttype="none"/>
 </v:shape><v:shapetype id="_x0000_t202" coordsize="21600,21600" o:spt="202"
  path="m,l,21600r21600,l21600,xe">
  <v:stroke joinstyle="miter"/>
  <v:path gradientshapeok="t" o:connecttype="rect"/>
 </v:shapetype><v:shape id="_x0000_s1462" type="#_x0000_t202" style='position:absolute;
  left:2334;top:1721;width:990;height:630' stroked="f">
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal align=center style='text-align:center'><span
     style='font-size:10.0pt'>Проверка прав<o:p></o:p></span></p>
     <p class=MsoNormal align=center style='text-align:center'><span
     style='font-size:10.0pt'><span style='mso-spacerun:yes'> </span>доступа</span><span
     lang=EN-US style='font-size:10.0pt;mso-ansi-language:EN-US'><o:p></o:p></span></p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:shape id="_x0000_s1463" type="#_x0000_t202" style='position:absolute;
  left:3594;top:1091;width:990;height:630' stroked="f">
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal align=center style='text-align:center'><span
     style='font-size:10.0pt'>запускает<o:p></o:p></span></p>
     <p class=MsoNormal align=center style='text-align:center'><span
     style='font-size:10.0pt'>на<o:p></o:p></span></p>
     <p class=MsoNormal align=center style='text-align:center'><span
     style='font-size:10.0pt'>выполнение</span><span lang=EN-US
     style='font-size:10.0pt;mso-ansi-language:EN-US'><o:p></o:p></span></p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:shape id="_x0000_s1464" type="#_x0000_t202" style='position:absolute;
  left:2694;top:1181;width:900;height:360' stroked="f">
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>student<o:p></o:p></span></p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:shape id="_x0000_s1465" type="#_x0000_t202" style='position:absolute;
  left:4764;top:1181;width:1980;height:360' stroked="f">
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal>суперпользователь<span lang=EN-US style='mso-ansi-language:
     EN-US'><o:p></o:p></span></p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:shape id="_x0000_s1466" type="#_x0000_t202" style='position:absolute;
  left:4044;top:1811;width:810;height:360' stroked="f">
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>a.exe<o:p></o:p></span></p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:line id="_x0000_s1467" style='position:absolute;flip:x' from="4674,1541"
  to="5147,1878">
  <v:stroke endarrow="block"/>
 </v:line><v:line id="_x0000_s1468" style='position:absolute' from="3347,1541"
  to="3954,1901">
  <v:stroke endarrow="block"/>
 </v:line><v:shape id="_x0000_s1469" type="#_x0000_t202" style='position:absolute;
  left:3144;top:2441;width:810;height:360' stroked="f">
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal>файлы<span lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:line id="_x0000_s1470" style='position:absolute;flip:x' from="3864,2171"
  to="4337,2508">
  <v:stroke endarrow="block"/>
 </v:line><v:line id="_x0000_s1471" style='position:absolute' from="2987,1451"
  to="3414,2441">
  <v:stroke endarrow="block"/>
 </v:line><w:wrap type="none"/>
 <w:anchorlock/>
</v:group><![endif]--><![if !vml]><img width=402 height=178
src="Тема2.files/image051.gif" v:shapes="_x0000_s1460 _x0000_s1461 _x0000_s1462 _x0000_s1463 _x0000_s1464 _x0000_s1465 _x0000_s1466 _x0000_s1467 _x0000_s1468 _x0000_s1469 _x0000_s1470 _x0000_s1471"><![endif]></span><!--[if mso & !supportInlineShapes & supportFields]><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><v:shape id="_x0000_i1025"
 type="#_x0000_t75" style='width:300pt;height:132pt'>
 <v:imagedata croptop="-65520f" cropbottom="65520f"/>
</v:shape><span style='mso-element:field-end'></span></span><![endif]--><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><u><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Маска</span></u><u><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'> </span></u><u><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>создания</span></u><u><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'> </span></u><u><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>файла</span></u><u><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><o:p></o:p></span></u></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><u><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><o:p><span style='text-decoration:none'>&nbsp;</span></o:p></span></u></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>fildes=open(pathname,O_CREAT,
mode);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>fildes=open(pathname,O_CREAT,(~mask)&amp;mode);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>mode</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>_</span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>t</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'> </span></i><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>umask</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>(</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>mode</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>_</span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>t</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'> </span></i><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>newmask</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>) – системный вызов для
установки маски<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>С каждым процессом связана
маска создания файла для автоматического выключения битов прав доступа при
создании файла не зависимо от режима заданных опций функций </span><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>open</span><span lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'> </span><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>или </span><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>creat</span><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>.
Это предотвращает случайное включениел лишних прав доступа при создании
выполняемым процессом файлов.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><u><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>Прототип</span></u></i><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>:<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>#include &lt;sys/types.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>#include &lt;sys/stat.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>mode_t umask ( mode_t
newmask);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><o:p>&nbsp;</o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><u><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>Пример:<o:p></o:p></span></u></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>/* функция позволяет создать файл с правами,<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'><span style='mso-spacerun:yes'>    </span>значения которых передаются
через второй аргумент */<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>#include &lt;fcntl.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>#include &lt;sys/stat.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>int special_creat(const char
*pathname,mode_t mode)<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=DE style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:DE'>{ mode_t oldu;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=DE style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:DE'><span
style='mso-spacerun:yes'>  </span>int f_d;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=DE style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:DE'><o:p>&nbsp;</o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=DE style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:DE'><span
style='mso-spacerun:yes'>  </span>if (oldu=umask(0))==-1)<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=DE style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:DE'><span
style='mso-spacerun:yes'>      </span>{ printf(“</span></i><i style='mso-bidi-font-style:
normal'><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Ошибка</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt;mso-ansi-language:DE'> </span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>сохранения</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt;mso-ansi-language:DE'> </span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>старой</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt;mso-ansi-language:DE'> </span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>маски</span></i><i
style='mso-bidi-font-style:normal'><span lang=DE style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:DE'>\n”); return (-1); };<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=DE style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:DE'><span
style='mso-spacerun:yes'>  </span></span></i><i style='mso-bidi-font-style:
normal'><span lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;
mso-ansi-language:EN-US'>if ((f_d=open(pathname,O_WRONLY|O_CREAT|O_EXCL,mode))==-1)<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>      </span>printf</span></i><i style='mso-bidi-font-style:
normal'><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>(“Ошибка
открытия файла\</span></i><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>n</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>”);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'><span style='mso-spacerun:yes'>  </span></span></i><i style='mso-bidi-font-style:
normal'><span lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;
mso-ansi-language:EN-US'>if</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> (</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>umask</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>(</span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>oldu</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>)==-1) </span></i><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>printf</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>(“Ошибка восстановления
старой маски\</span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>n</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>”);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'><span style='mso-spacerun:yes'>  </span></span></i><i style='mso-bidi-font-style:
normal'><span lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;
mso-ansi-language:EN-US'>return(f_d);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>}<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><u><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>Прототип</span></u></i><i style='mso-bidi-font-style:normal'><u><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>:<o:p></o:p></span></u></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>#include &lt;unistd.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>int acces(const char
*pathname, int amode);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><u><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>Пример:<o:p></o:p></span></u></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>/* проверка отдельных прав доступа к файлу */<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>#include &lt;stdio.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>#include &lt;stdlib.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>#include &lt;unistd.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>main()<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>{<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>  </span>char *filename=”afile”;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>  </span>if (access(filename,R_OK)==0)<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>     </span>printf</span></i><i style='mso-bidi-font-style:
normal'><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>(“Пользователь
имеет право доступа на чтение\</span></i><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>n</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>”); <o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'><span style='mso-spacerun:yes'>  </span></span></i><i style='mso-bidi-font-style:
normal'><span lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;
mso-ansi-language:EN-US'>if (access(filename,W_OK)==-1)<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>     </span>printf</span></i><i style='mso-bidi-font-style:
normal'><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>(“Пользователь
не имеет права доступа на запись\</span></i><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>n</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>”);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'><span style='mso-spacerun:yes'>  </span></span></i><i style='mso-bidi-font-style:
normal'><span lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;
mso-ansi-language:EN-US'>if (access(filename,X_OK)==0)<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>     </span>printf</span></i><i style='mso-bidi-font-style:
normal'><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>(“Есть право
выполнения\</span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>n</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>”);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>}<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Стандартная библиотека
ввода-вывода вместо использования файлов дескриптора определяет указатель на
специальную структуру данных типа FILE, называемый потоком или файловым
указателем. Стандартные потоки ввода-вывода обозначаются символическими
именами: stdin, stdout и stderr соответственно для потоков ввода, вывода и
сообщения об ошибках. Они соответствуют файловым дескрипторам 0, 1 и 2 и
определены следующим образом:<o:p></o:p></span></p>

<p class=Iauiue><i style='mso-bidi-font-style:normal'><span style='font-size:
14.0pt;mso-bidi-font-size:10.0pt'>extern FILE *stdin;<o:p></o:p></span></i></p>

<p class=Iauiue><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>extern
FILE *stdout;<o:p></o:p></span></i></p>

<p class=Iauiue><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>extern
FILE *stderr.<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Для работы с файлами
используются следующие наиболее часто используемые функции:<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>fopen - открывает файл с указанным
именем и возвращает файловый указатель, ассоциированный с данным файлом.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>fclose - закрывает поток, освобождая буферы.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>fflush - очищает буфер потока, открытого на запись.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>getc - считывает символ из потока.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>putc - записывает символ в поток.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>gets - считывает строку из потока.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>puts - записывает строку в поток.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>fread - считывает указанное число байтов из потока.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>fwrite - записывает указанное число байтов в поток.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>fseek - позиционирует указатель в потоке.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>fprintf - производит форматированный вывод.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>fscanf - производит форматированный ввод.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>fileno - возвращает файловый дескриптор данного
потока.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Основным
достоинством библиотечных функций является буферизация ввода/вывода,<span
style='mso-spacerun:yes'>  </span>позволяющая минимизировать число системных
вызовов чтения и записи. При открытии файла и создании потока библиотечные
функции автоматически размещают необходимые буферы, о которых приложение может
уже не заботиться.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Обеспечивается
три типа буферизации:<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>1. Полная буферизация.
Операции чтения и записи завершаются после того, как будет заполнен буфер
ввода/вывода. Содержимое буфера записывается на диск автоматически или при
вызове функции <b style='mso-bidi-font-weight:normal'>fflush</b>.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>2. Построчная буферизация.
Практический ввод/вывод выполняется с помощью системных<span
style='mso-spacerun:yes'>      </span>вызовов <b style='mso-bidi-font-weight:
normal'>read</b>, <b style='mso-bidi-font-weight:normal'>write</b> построчно
при обнаружении конца строки (перевода каретки). Обычно применяется для
стандартных потоков ввода/вывода.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>3. Отсутствие буферизации.
Функции библиотеки не производят никакой буферизации, являясь лишь программной
оболочкой системных вызовов. При этом достигаются минимальные задержки операции
чтения или записи. Применяется для стандартного потока вывода сообщений об
ошибках.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Характер
буферизации может быть изменен с помощью следующих функций:<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>void setbuf (FILE *stream , char *buf);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>int setbuf (file *stream, char *buf, int type, size_t size);</span></i><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><o:p></o:p></span></p>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><!--[if gte vml 1]><v:shape
 id="_x0000_i1026" type="#_x0000_t75" style='width:264pt;height:235.8pt' o:ole="">
 <v:imagedata src="Тема2.files/image041.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=352 height=314
src="Тема2.files/image042.jpg" v:shapes="_x0000_i1026"><![endif]><!--[if gte mso 9]><xml>
 <o:OLEObject Type="Embed" ProgID="PBrush" ShapeID="_x0000_i1026"
  DrawAspect="Content" ObjectID="_1492958236">
 </o:OLEObject>
</xml><![endif]--><o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:3'>                        </span></span><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>BUFSIZE </span><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>или</span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'> <span
lang=EN-US>stat.st_blksize<o:p></o:p></span></span></p>

<p class=Iauiue style='text-align:justify'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue align=center style='text-align:center'><span style='font-size:
14.0pt;mso-bidi-font-size:10.0pt'>Рис</span><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>. 2.5. </span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Структура данных потока<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Функция
<b style='mso-bidi-font-weight:normal'>setbuf</b> позволяет включить/выключить
буферизацию для потока, указанного в качестве первого аргумента. Если второй
аргумент указывает на буфер размером <b style='mso-bidi-font-weight:normal'>szie</b>,
то буферизация включается, а если тут стоит NULL, то выключается.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Функция
<b style='mso-bidi-font-weight:normal'>setvbuf</b> позволяет установить тип
буферизации (третий аргумент). Её четвёртый аргумент определяет размер буфера,
адресованного вторым аргументом type, который может принимать следующие
значения:<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>_IOFBF - полная буферизация;
<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>_IOLBF - построчная
буферизация;<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>_IONBF - отсутствие
буферизации.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Каждый
поток в стандартной библиотеке представлен указателем на структуру FILE,
которая содержит следующие поля:<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>1. Указатель на следующий символ,
подлежащий записи (_</span><span lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:
10.0pt;mso-ansi-language:EN-US'>ptr</span><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>).<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>2. Число байт в буфере (_</span><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>cnt</span><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>).<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>3. Указатель на буфер (_</span><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>base</span><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>).<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>4. Флаги состояния потока (_</span><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>flag</span><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>).<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>5. 4Указатель на файловый
дескриптор (_</span><span lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:
10.0pt;mso-ansi-language:EN-US'>file</span><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>).<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Размер буфера определяется
либо значением специального поля </span><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>st</span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>_</span><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>blksize</span><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> </span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>в структуре <b
style='mso-bidi-font-weight:normal'>stat</b>, возвращаемой системным вызовом </span><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>stat</span><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>,
либо с помощью стандартного значения BUFERSIZE, определённого в библиотеке &lt;</span><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>stdio</span><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>.</span><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>h</span><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>&gt;.<o:p></o:p></span></p>

<p class=Iauiue align=center style='text-align:center'><span style='font-size:
14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<h3><a name="_Toc215646275"></a><a name="_Toc41918449"></a><a
name="_Toc41918278"><span style='mso-bookmark:_Toc41918449'><span
style='mso-bookmark:_Toc215646275'><span style='text-transform:uppercase'>2.1.9.
Ф</span>айлы отображаемые в памяти</span></span></a></h3>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>#include &lt;sys/types.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>#include &lt;sys/mman.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>caddr_t mmap(caddr_t addr, size_t len, int prot, int flags, int fields,
off_t off);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid black .75pt;
 mso-padding-alt:0cm 5.4pt 0cm 5.4pt;mso-border-insideh:.75pt solid black;
 mso-border-insidev:.75pt solid black'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=174 valign=top style='width:104.65pt;border:solid black 1.0pt;
  mso-border-alt:solid black .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue align=center style='text-align:center'><span
  style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>prot<o:p></o:p></span></p>
  </td>
  <td width=248 valign=top style='width:148.85pt;border:solid black 1.0pt;
  border-left:none;mso-border-left-alt:solid black .75pt;mso-border-alt:solid black .75pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue align=center style='text-align:center'><span
  style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>flags<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=174 valign=top style='width:104.65pt;border:solid black 1.0pt;
  border-top:none;mso-border-top-alt:solid black .75pt;mso-border-alt:solid black .75pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
  mso-bidi-font-size:10.0pt'>PROT_READ<o:p></o:p></span></p>
  </td>
  <td width=248 valign=top style='width:148.85pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  mso-border-top-alt:solid black .75pt;mso-border-left-alt:solid black .75pt;
  mso-border-alt:solid black .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
  mso-bidi-font-size:10.0pt'>MAP_SHARED<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=174 valign=top style='width:104.65pt;border:solid black 1.0pt;
  border-top:none;mso-border-top-alt:solid black .75pt;mso-border-alt:solid black .75pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
  mso-bidi-font-size:10.0pt'>PROT_WRITE<o:p></o:p></span></p>
  </td>
  <td width=248 valign=top style='width:148.85pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  mso-border-top-alt:solid black .75pt;mso-border-left-alt:solid black .75pt;
  mso-border-alt:solid black .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
  mso-bidi-font-size:10.0pt'>MAP_PRIVATE<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=174 valign=top style='width:104.65pt;border:solid black 1.0pt;
  border-top:none;mso-border-top-alt:solid black .75pt;mso-border-alt:solid black .75pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
  mso-bidi-font-size:10.0pt'>PROT_EXEC<o:p></o:p></span></p>
  </td>
  <td width=248 valign=top style='width:148.85pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  mso-border-top-alt:solid black .75pt;mso-border-left-alt:solid black .75pt;
  mso-border-alt:solid black .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
  mso-bidi-font-size:10.0pt'>MAP_FIXED<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4;mso-yfti-lastrow:yes'>
  <td width=174 valign=top style='width:104.65pt;border:solid black 1.0pt;
  border-top:none;mso-border-top-alt:solid black .75pt;mso-border-alt:solid black .75pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
  mso-bidi-font-size:10.0pt'>PROT_NONE<o:p></o:p></span></p>
  </td>
  <td width=248 valign=top style='width:148.85pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  mso-border-top-alt:solid black .75pt;mso-border-left-alt:solid black .75pt;
  mso-border-alt:solid black .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
  mso-bidi-font-size:10.0pt'>MAP_NORESERVE<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Системный
вызов <b style='mso-bidi-font-weight:normal'>mmap</b> предоставляет доступ к
файлам, альтернативный вызовам <b style='mso-bidi-font-weight:normal'>read</b>
и <b style='mso-bidi-font-weight:normal'>write</b>. С помощью этого вызова
процесс может отображать участки файлов в своё адресное пространство. После
этого данные файла могут быть получены или записаны путем чтения, записи в
память.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Этот вызов
задает отображение числа байтов, определённых <b style='mso-bidi-font-weight:
normal'>len</b>, для файла с дескриптором <b style='mso-bidi-font-weight:normal'>fildes</b>,
начиная со смещения <b style='mso-bidi-font-weight:normal'>off</b> в область
памяти со стартовым адресом <b style='mso-bidi-font-weight:normal'>addr</b>.
Перед вызовом <b style='mso-bidi-font-weight:normal'>mmap</b> файл должен быть
открыт с помощью функции <b style='mso-bidi-font-weight:normal'>open</b>.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Аргумент
<b style='mso-bidi-font-weight:normal'>prot</b> определяет права доступа к
области памяти, которые должны соответствовать правам доступа к файлу. Значение
<b style='mso-bidi-font-weight:normal'>len</b> ОС округляет до границы
следующей страницы виртуальной памяти (выделяется область, кратная странице).<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Использование
права на выполнения, позволяет процессу определить собственный механизм
загрузки кода. Такой подход используется редактором динамических связей, при
загрузке динамических библиотек, когда библиотека отображается в адресное
пространство процесса.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Аргумент
<b style='mso-bidi-font-weight:normal'>flags</b> определяет дополнительные
особенности управления памятью и может иметь следующие значения:<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>MAP_SHARED </span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;font-family:Symbol;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-char-type:symbol;mso-symbol-font-family:Symbol'><span style='mso-char-type:
symbol;mso-symbol-font-family:Symbol'>&frac34;</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> область памяти может
использоваться несколькими процессами;<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>MAP_PRIVETE </span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;font-family:Symbol;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-char-type:symbol;mso-symbol-font-family:Symbol'><span style='mso-char-type:
symbol;mso-symbol-font-family:Symbol'>&frac34;</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> область памяти используется
только вызывающим процессом;<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>MAP_FIXED </span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;font-family:Symbol;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-char-type:symbol;mso-symbol-font-family:Symbol'><span style='mso-char-type:
symbol;mso-symbol-font-family:Symbol'>&frac34;</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> требуется выделение памяти
начиная точно с <b style='mso-bidi-font-weight:normal'>addr;</b><o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>MAP_NORESERVED </span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;font-family:Symbol;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-char-type:symbol;mso-symbol-font-family:Symbol'><span style='mso-char-type:
symbol;mso-symbol-font-family:Symbol'>&frac34;</span></span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> не требуется резервировать
область свопинга.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>#include &lt;sys/types.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>#include &lt;sys/stat.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>#include &lt;unistd.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>#include &lt;fcntl.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>main (int argc, char *argv[])<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>{<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'> </span>int fd_src, fd_dst;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'> </span>caddr_t addr_src, addr_dst;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'> </span>struct stat filestat;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><o:p>&nbsp;</o:p></span></i></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'> </span>fd_src=open(argv[1],O_RDONLY);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span
style='mso-spacerun:yes'> </span>fd_dst=open(argv[2],O_RDWR|O_CREAT);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'> </span>fstat(fd_src, &amp;filestat);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'> </span>lseek(fd_dst,
filestat.st_size-1,SEEK_SET);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'> </span>write(fd_dst,“ ”,1);<o:p></o:p></span></i></p>

<p class=Iauiue><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'> </span>addr_src=mmap((caddt_t)0,filesta.st_size,PROT_READ,MAP_SHARED,
fd_src,0));<o:p></o:p></span></i></p>

<p class=Iauiue><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'> </span>addr_dst=mmap((caddr_t)0,
filestat.st_size,PROT_READ|PROT_WRITE, MAP_SHARED, fd_dst);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'> </span>memcpy(addr_dst, addr_src,
filestat.st_size);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'> </span>exit</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>(0);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>}<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;text-transform:uppercase'><o:p>&nbsp;</o:p></span></p>

<h3><a name="_Toc215646276"></a><a name="_Toc41918450"></a><a
name="_Toc41918279"><span style='mso-bookmark:_Toc41918450'><span
style='mso-bookmark:_Toc215646276'><span style='text-transform:uppercase'>2.1.10.
</span>Каталоги</span></span></a></h3>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>Права доступа к каталогам устанавливаются так же как
и к обычным файлам, но их интерпретация несколько другая. Право доступа для
чтения к каталогу показывает, что соответствующая категория пользователей может
выводить список содержащихся в каталоге файлов, но это не значит, что эта
категория может читать информацию в файлах, которые записаны в этом каталоге,
потому что доступ к файлу регулируется правами доступа к файлу. Права доступа к
каталогу на запись позволяет создавать новые файлы и удалить существующие. Но
менять содержимое файлов можно только на основании прав доступа владельца.
Права доступа к каталогу на выполнение позволяет перейти в каталог с помощью
команды </span><span lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:
10.0pt;mso-ansi-language:EN-US'>cd</span><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:10.0pt'> </span><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>или системного вызова </span><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>chdir</span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>. А для того, чтобы открыть
файл или выполнить программу, пользователь должен иметь право доступа на
выполнение для всех ведущих каталогов, входящих в эту группу. Если для каталога
установлен вид фиксации, то пользователь может удалить из каталога только те
файлы, которыми он владеет или по отношению к которым он имеет право на запись
даже при наличии права на запись в каталоге.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><u><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Прототипы</span></u></i><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>:<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>#include &lt;sys/types.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>#include &lt;dirent.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><o:p>&nbsp;</o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>int mkdir (const char *pathname, mode_t mode); - </span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>создание</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'> </span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>каталога</span></i><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>int rmdir (const char *pathname); - </span></i><i style='mso-bidi-font-style:
normal'><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>удаление</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt;mso-ansi-language:EN-US'> </span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>каталога</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'><o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>DIR *opendir(const char *dirname); - </span></i><i style='mso-bidi-font-style:
normal'><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>открытие</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt;mso-ansi-language:EN-US'> </span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>каталога</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'><o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>int closedir(DIR *dirptr); - </span></i><i style='mso-bidi-font-style:
normal'><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>закрытие</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt;mso-ansi-language:EN-US'> </span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>каталога</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt;mso-ansi-language:EN-US'> <span lang=EN-US><o:p></o:p></span></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>struct dirent *readdir (DIR *dirptr); - </span></i><i style='mso-bidi-font-style:
normal'><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>чтение</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt;mso-ansi-language:EN-US'> </span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>очередной</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt;mso-ansi-language:EN-US'> </span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>записи</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'><o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>void</span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> </span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>rewinddir</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>(</span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>DIR</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'> *</span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>dirptr</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>); - возвращение в начало списка записей<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>int chdir(const char *path); - </span></i><i style='mso-bidi-font-style:
normal'><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>смена</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt;mso-ansi-language:EN-US'> </span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>каталога</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'><o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>char *getcwd(char *name, seze_t size); - </span></i><i style='mso-bidi-font-style:
normal'><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>определение</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt;mso-ansi-language:EN-US'> </span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>текущего</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt;mso-ansi-language:EN-US'> </span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>каталога</span></i><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>.<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><o:p>&nbsp;</o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><u><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Примеры:<o:p></o:p></span></u></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>/* функция двойного вывода
содержимого каталога*/<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>int double_ls_dir(const char *name)<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>{ struct dirent *d;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>DIR *dp;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><o:p>&nbsp;</o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>if ((dp=opendir(name))==NULL)
return (-1);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>while (d=readdir(dp))<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>     </span>{ if (d-&gt;inv!=0)
printf(“%s\n”,d-&gt;d_name); }<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>rewinddir(dp);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>while (d=readdir(dp))<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>     </span>{ if (d-&gt;inv!=0)
printf(“%s\n”,d-&gt;d_name); }<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>close</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>(</span></i><i style='mso-bidi-font-style:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>dp</span></i><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><span
style='mso-spacerun:yes'>  </span></span></i><i style='mso-bidi-font-style:
normal'><span lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;
mso-ansi-language:EN-US'>return</span></i><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>(0);<o:p></o:p></span></i></p>

<div style='mso-element:para-border-div;border:none;border-bottom:solid windowtext 1.5pt;
padding:0cm 0cm 1.0pt 0cm'>

<p class=Iauiue style='text-indent:1.0cm;border:none;mso-border-bottom-alt:
solid windowtext 1.5pt;padding:0cm;mso-padding-alt:0cm 0cm 1.0pt 0cm'><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>}<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm;border:none;mso-border-bottom-alt:
solid windowtext 1.5pt;padding:0cm;mso-padding-alt:0cm 0cm 1.0pt 0cm'><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'><o:p>&nbsp;</o:p></span></i></p>

</div>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>/* функция поиска файлов,
заканчивающих на заданное расширение */<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>#include &lt;stdio.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>#include &lt;dirent.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>#include &lt;string.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><o:p>&nbsp;</o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>int match(const char *s1, const char *s2)<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>{ int diff;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'> </span><o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>dif=strlen(s1)-strlen(s2);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>if (strlen(s1)&gt;strlen(s2))
return (strcmp(&amp;s1[diff],s2==0)<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>     </span>else retunr(0);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>}<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><o:p>&nbsp;</o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>char *find_entry(char *dirname, char *suffix, int cont)<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>{ static DIR *dp=NULL;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>struct dirent *d;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><o:p>&nbsp;</o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>if ((dp==NULL)||(cont=0))<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>    </span>if (dp=opendir(dirname)==NULL)
return(NULL);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>while (d=readdir(dp))<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>{<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>    </span>if (d-&gt;d_inv==0) continue;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>    </span>if
(match(d-&gt;d_name,suffix)) return (d-&gt;d_name);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>}<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>closedir(dp);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>dp=NUL;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><span style='mso-spacerun:yes'>  </span>return(NULL);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-indent:1.0cm'><i style='mso-bidi-font-style:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>}</span></i><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<h3><a name="_Toc215646277"><span style='text-transform:uppercase'>2.1.11. </span>Метаданные
файлов</a></h3>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Каждый
файл имеет, помимо своих собственных данных, метаданные, которые<span
style='mso-spacerun:yes'>  </span>описывают его характеристики. Метаданные
файла хранятся в структуре индексного дескриптора. Часть полей этой структры
можно получить с помощью следующих системных вызовов.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>#include &lt;sys/types.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>#include &lt;sys/stat.h&gt;<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><o:p>&nbsp;</o:p></span></i></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>int stat (const char *path, struct stat *buf);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>int lstat (const char *path, struct stat *buf);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify'><i style='mso-bidi-font-style:normal'><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>int fstat (int fildes, struct stat *buf);<o:p></o:p></span></i></p>

<p class=Iauiue style='text-align:justify'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'><span
style='mso-tab-count:1'>        </span></span><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>В качестве аргумента функции принимают имя файла или
файловый дескриптор и возвращают заполненные поля структуры </span><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>stat</span><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>,
которые приведены ниже.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l0 level1 lfo6;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>&uuml;<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>mode_t<span style='mso-spacerun:yes'>  </span>st_mode</span></i><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> <span style='mso-tab-count:
1'> </span>- тип файла и права доступа;<o:p></o:p></span></p>

<p class=Iauiue style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l0 level1 lfo6;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>&uuml;<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>ino_t<span style='mso-spacerun:yes'>   </span>st_ino</span></i><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><span style='mso-tab-count:
2'>        </span>- номер дескриптора или структуры (inode), где хранятся
метаданные данного файла;<o:p></o:p></span></p>

<p class=Iauiue style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l0 level1 lfo6;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>&uuml;<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>dev_t<span style='mso-spacerun:yes'>   </span>st_dev - </span></i><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>идентификатор устройства,
содержащего файл;<o:p></o:p></span></p>

<p class=Iauiue style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l0 level1 lfo6;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>&uuml;<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>dev_t<span style='mso-spacerun:yes'>   </span>st_rdev</span></i><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>- для специального файлового
устройства, содержит номер устройства, адресуемого этим файлом;<o:p></o:p></span></p>

<p class=Iauiue style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l0 level1 lfo6;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>&uuml;<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>nlink_t st_nlink</span></i><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'> -<span style='mso-spacerun:yes'>  </span>число жестких связей файла;<o:p></o:p></span></p>

<p class=Iauiue style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l0 level1 lfo6;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>&uuml;<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>uid_t<span style='mso-spacerun:yes'>   </span>st_uid</span></i><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><span style='mso-tab-count:
1'> </span>- идентификатор пользователя-владелеца файла;<o:p></o:p></span></p>

<p class=Iauiue style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l0 level1 lfo6;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>&uuml;<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>gid_t<span style='mso-spacerun:yes'>   </span>st_gid</span></i><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><span style='mso-tab-count:
1'> </span>- идентификатор группы владельца файла;<o:p></o:p></span></p>

<p class=Iauiue style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l0 level1 lfo6;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>&uuml;<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>off_t<span style='mso-spacerun:yes'>   </span>st_size</span></i><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><span style='mso-tab-count:
1'> </span>- размер обычного файла в байтах; для специального файла устройств
это поле не определено;<o:p></o:p></span></p>

<p class=Iauiue style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l0 level1 lfo6;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>&uuml;<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>time_t<span style='mso-spacerun:yes'>  </span>st_atime</span></i><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> - время последнего доступа
к файлу;<o:p></o:p></span></p>

<p class=Iauiue style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l0 level1 lfo6;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>&uuml;<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>time_t<span style='mso-spacerun:yes'>  </span>st_mtime</span></i><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> - время последней
модификации файла;<o:p></o:p></span></p>

<p class=Iauiue style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l0 level1 lfo6;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>&uuml;<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>time_t<span style='mso-spacerun:yes'>  </span>st_ctime</span></i><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> - время последнего
изменения метаданных файла;<o:p></o:p></span></p>

<p class=Iauiue style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l0 level1 lfo6;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>&uuml;<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>long<span style='mso-spacerun:yes'>    </span>st_blksize</span></i><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> - оптимальный размер блока
для операций ввода/вывода; для специальных файлов это поле не определено;<o:p></o:p></span></p>

<p class=Iauiue style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l0 level1 lfo6;
tab-stops:list 36.0pt'><![if !supportLists]><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>&uuml;<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><i
style='mso-bidi-font-style:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
10.0pt'>long<span style='mso-spacerun:yes'>    </span>st_blocks</span></i><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> - число размещенных 512
байтовых блоков, которые выделены для хранения данных файла.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Для определения типа файла
используются специальные макроопределения:<o:p></o:p></span></p>

<p class=Iauiue><span lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:
10.0pt;mso-ansi-language:EN-US'>S_ISFIFO(mode) - FIFO<o:p></o:p></span></p>

<p class=Iauiue><span lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:
10.0pt;mso-ansi-language:EN-US'>S_ISCHR(mode)<span style='mso-tab-count:1'>     </span>
- </span><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>символьное</span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'> </span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>устройство</span><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'><o:p></o:p></span></p>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>S_ISDIR(</span><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>mode</span><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>)<span
style='mso-tab-count:1'>      </span>- каталог<o:p></o:p></span></p>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>S_ISBLK(</span><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>mode</span><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>)<span
style='mso-tab-count:1'>     </span>- блочное устройство<o:p></o:p></span></p>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>S_ISREG(</span><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>mode</span><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>)<span
style='mso-tab-count:1'>     </span>- обычный файл<o:p></o:p></span></p>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>S_ISLNK(</span><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>mode</span><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>)<span
style='mso-tab-count:1'>     </span>- символическая связь<o:p></o:p></span></p>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>S_ISSOCK(</span><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>mode</span><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>) -
сокет<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Существуют
функции, позволяющие изменить владельца файла и владельца группы, а также
изменить права доступа к файлу.<o:p></o:p></span></p>

<h3><a name="_Toc41918453"></a><a name="_Toc41918282"><span style='mso-bookmark:
_Toc41918453'><span style='text-transform:uppercase'><o:p>&nbsp;</o:p></span></span></a></h3>

<h3><span style='mso-bookmark:_Toc41918282'><span style='mso-bookmark:_Toc41918453'><a
name="_Toc215646278"><span style='text-transform:uppercase'>2.1.12. Б</span>азовая
файловая система<span style='text-transform:uppercase'> UNIX s5fs</span></a></span></span><span
style='text-transform:uppercase'><o:p></o:p></span></h3>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt;text-transform:uppercase'><o:p>&nbsp;</o:p></span></p>

<p class=11><span style='text-transform:uppercase;mso-ansi-language:RU'>2.1.12.1.
С</span><span style='mso-ansi-language:RU'>труктура файловой система<span
style='text-transform:uppercase'> </span></span><span lang=EN-US
style='text-transform:uppercase'>UNIX</span><span lang=EN-US style='text-transform:
uppercase;mso-ansi-language:RU'> </span><span lang=EN-US style='text-transform:
uppercase'>s</span><span style='text-transform:uppercase;mso-ansi-language:
RU'>5</span><span lang=EN-US style='text-transform:uppercase'>fs</span><span
style='text-transform:uppercase;mso-ansi-language:RU'><o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=caaieiaie1 style='text-align:justify;text-indent:1.0cm'>Каждый жесткий
диск состоит из одного или нескольких разделов. Расположение и размер разделов
определяется при форматировании диска. Разделы выступают в качестве независимых
устройств, доступ к которым осуществляется как к различным носителям данных. В
разделе может располагаться только одна файловая система, которая не может
занимать нескольких разделов. </p>

<p class=caaieiaie1 style='text-align:justify;text-indent:1.0cm'>Файловая
система s5fs занимает раздел диска и имеет следующую структуру:</p>

<p class=Iauiue align=center style='text-align:center'><span style='font-size:
14.0pt;mso-bidi-font-size:10.0pt'><!--[if gte vml 1]><v:shape id="_x0000_i1027"
 type="#_x0000_t75" style='width:305.4pt;height:230.4pt' o:ole="">
 <v:imagedata src="Тема2.files/image043.gif" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=407 height=307
src="Тема2.files/image043.gif" v:shapes="_x0000_i1027"><![endif]><!--[if gte mso 9]><xml>
 <o:OLEObject Type="Embed" ProgID="PBrush" ShapeID="_x0000_i1027"
  DrawAspect="Content" ObjectID="_1492958238">
 </o:OLEObject>
</xml><![endif]--></span><span lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:
10.0pt;mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p class=Iauiue align=center style='text-align:center'><span style='font-size:
14.0pt;mso-bidi-font-size:10.0pt'>Рис. 2.6. Структура файловой системы </span><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>s</span><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>5</span><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:
EN-US'>fs</span><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p></o:p></span></p>

<p class=Iauiue align=center style='text-align:center'><span style='font-size:
14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Суперблок
содержит общую информацию о файловой системе, необходимую для монтирования и
управления файловой системой в целом, например, для размещения новых файлов. В
каждой файловой системе существует только один суперблок, который размещается в
начале раздела. Суперблок считывается в память при монтировании файловой
системы и находится там до ее размонтирования. Суперблок содержит следующую информацию:<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>- тип файловой системы;<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>- размер файловой системы в
логических блоках, включая сам суперблок, массив файловых дескрипторов и блоки
хранения данных;<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>- размер массива индексных
дескрипторов;<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>- число свободных блоков,
доступных для размещения;<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>- число свободных индексных
дескрипторов, доступных для размещения;<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>- флаг модификации;<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>- флаг режима монтирования;<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>- размер логического блока
(512, 1024, 2048);<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>- список номеров свободных
индексных дескрипторов;<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>- список адресов свободных
блоков.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Так как число свободных
файловых дескрипторов и блоков хранения данных может быть большим, списки
свободных индексных дескрипторов и и списки свободных блоков целиком в
суперблоке не хранятся. <o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Для индексных дескрипторов
хранится только часть списка. Когда число свободных индексных дескрипторов в
этом списке приближается к нулю, ядро операционной системы просматривает массив
индексных дескрипторов и вновь формирует список свободных индексных
дескрипторов. Индексные дескрипторы имеют специальное поле, по которому можно определить,
занят он или свободен.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>По содержимому блоков
хранения данных нельзя определить, занят этот блок или свободен, поэтому
необходимо хранить список адресов свободных блоков целиком. Суперблок содержит
только один блок из этого списка. Первый элемент этого блока указывает на блок,
хранящий продолжение этого списка и т.д. Выделение свободных блоков для
размещения файлов производится с конца списка суперблока. Когда в списке
остается единственный элемент, ядро интерпретирует его как указатель на блок, содержащий
продолжение этого списка. В этом случае содержимое этого блока считывается в
суперблок и блок становится свободным. Такой подход позволяет использовать
дисковое пространство под списки, пропорциональное свободному месту в файловой
системе, то есть когда свободного места становится мало, список адресов
свободных блоков помещается целиком в суперблоке.<o:p></o:p></span></p>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=11><span style='text-transform:uppercase;mso-ansi-language:RU'>2.1.12.2.
И</span><span style='mso-ansi-language:RU'>ндексные дескрипторы<o:p></o:p></span></p>

<p class=Iauiue align=center style='text-align:center'><span style='font-size:
14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Массив
индексных дескрипторов содержит метаданные всех файлов файловой системы.
Индексный дескриптор содержит информацию о файле, необходимую для обработки
данных, хранящихся в файле. Каждый файл ассоциирован с одним индексным
дескриптором, хотя в файловой системе может быть несколько имен, каждый из
которых указывает на один и тот же индексный дескриптор. Ядро обращается к
индексному дескриптору по индексу в массиве индексных дескрипторов. Один
индексный дескриптор является корневым индексным дескриптором файловой системы.
Через него обеспечивается доступ к структуре каталогов и файлов после монтирования
файлов системы. Размер массива индексных дескрипторов является фиксированным и
задается при создании файловой системы. Следовательно, файловая система s5fs
имеет ограничение по числу файлов, которые могут в ней храниться, независимо от
размера этих файлов.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>Индексный дескриптор имеет следующую структуру:<o:p></o:p></span></p>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue align=center style='text-align:center'><span style='font-size:
14.0pt;mso-bidi-font-size:10.0pt'><!--[if gte vml 1]><v:shape id="_x0000_i1028"
 type="#_x0000_t75" style='width:359.4pt;height:230.4pt' o:ole="">
 <v:imagedata src="Тема2.files/image044.gif" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=479 height=307
src="Тема2.files/image044.gif" v:shapes="_x0000_i1028"><![endif]><!--[if gte mso 9]><xml>
 <o:OLEObject Type="Embed" ProgID="PBrush" ShapeID="_x0000_i1028"
  DrawAspect="Content" ObjectID="_1492958239">
 </o:OLEObject>
</xml><![endif]--><o:p></o:p></span></p>

<p class=Iauiue align=center style='text-align:center'><span style='font-size:
14.0pt;mso-bidi-font-size:10.0pt'>Рис. 2.7. Структура индексного дескриптора<o:p></o:p></span></p>

<p class=Iauiue align=center style='text-align:center'><span style='font-size:
14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Индексный дескриптор не
содержит имени файла, которое хранится в блоке хранения данных каталога, и
содержимого файла, которое размещено в блоках хранения данных. При открытии файла
ядро помещает копию дискового индексного дескриптора в память в специальную
таблицу, которая содержит несколько дополнительных полей. <o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Основные поля индексного
дескриптора следующие.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>1. Поле </span><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>di</span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>-</span><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>mode</span><span
lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:10.0pt'> </span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>хранит атрибуты файла,
такие, как тип файла и права доступа к файлу, а также три бита под модификацию
прав доступа. Типы могут быть следующими:<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>- обычные файлы;<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>- каталоги;<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>- специальные файлы блочных устройств;<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>- специальные файлы символьных устройств.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>2. Число ссылок на файл (количество имен, которые
имеет файл в файловой системе).<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>3. Идентификаторы владельца-пользователя и
владельца-группы.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>4. Размер файла в байтах. Для специальных файлов это
поле содержит старший и младший номера устройства.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>5. Время последнего доступа к файлу.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>6. Время последней модификации.<o:p></o:p></span></p>

<p class=Iauiue style='text-indent:1.0cm'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'>7. Время последней модификации индексного
дескриптора.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Далее - массив адресов
дисковых блоков хранения данных. Массив имеет фиксированный размер и состоит из
двенадцати элементов. Первые десять элементов адресуют непосредственно блоки
хранения данных файла, одиннадцатый элемент адресует блок, который содержит
адреса блоков хранения данных. Двенадцатый элемент указывает на дисковый блок,
хранящий адреса блоков, каждый из которых адресует блок хранения данных файла
(то есть, двойная косвенная адресация). <o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Тринадцатый элемент
используется для тройной косвенной адресации, при его применении для нахождения
адреса блока хранения данных файла используются три дополнительных блока.<span
style='mso-spacerun:yes'>  </span><o:p></o:p></span></p>

<p class=Iauiue style='text-indent:35.4pt'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=11><span style='text-transform:uppercase;mso-ansi-language:RU'>2.1.12.3.
Б</span><span style='mso-ansi-language:RU'>локи хранения данных<o:p></o:p></span></p>

<p class=Iauiue align=center style='text-align:center'><span style='font-size:
14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=caaieiaie1 style='text-align:justify;text-indent:1.0cm'>Блоки хранения
данных занимают большую часть дискового раздела и их число определяет
максимальный суммарный объем файлов данной файловой системы. Размер блока
выбирается кратным 512 байтам. Обработка данных файла осуществляется через
индексный дескриптор, который содержит ссылки на блоки данных. Файлы в
операционной системе UNIX могут содержать пустые зоны, или так называемые дыры.
Процесс может создать пустой файл с помощью системного вызова lseek, сместив
файловый указатель относительно начала файла и сделать запись данных, при этом
между началом файла и началом записанных данных образуется незаполненная
область, при чтении этой области процесс получит нулевые байты. Так как
логические блоки, соответствующие дыре, не содержат данные, нет смысла
размещать для них дисковые блоки. В этом случае соответствующие элементы
массива адресов индексных дескрипторов содержат нулевой указатель. </p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Когда
процесс производит чтение такого блока, ядро возвращает последовательность
нулей. Дисковые блоки размещаются для таких файлов только при записи в
соответствующие логические блоки файла.<o:p></o:p></span></p>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=11><span style='text-transform:uppercase;mso-ansi-language:RU'>2.1.12.4.
И</span><span style='mso-ansi-language:RU'>мена файлов<o:p></o:p></span></p>

<p class=Iauiue align=center style='text-align:center'><span style='font-size:
14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Имя файла хранится в файлах
специального типа, называемых каталогами, но ни метаданные, ни блоки хранения
данных не содержат имени файла. Такой подход позволяет файлу иметь практически
неограниченное число имен.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Каталог
файловой системы s5fs представляет собой таблицу, каждый элемент которой имеет
фиксированный размер в 16 байтов. Два байта хранятся в номере индексного
дескриптора, а 14 байтов – его имя. Таким образом, число индексных дескрипторов
не может превышать 65535. Первый элемент каталога адресует сам текущий каталог
и имеет имя “.” (точка),<span style='mso-spacerun:yes'>  </span>а второй –
родительский каталог под именем “..” (две точки). При удалении имени файла из
каталога номер индексного дескриптора соответствующего элемента устанавливается
равным нулю. Обычно ядро не удаляет такие свободные элементы, поэтому размер
каталога не уменьшается даже при удалении файла. Это составляет определенные
проблемы для каталогов с большим числом файлов.<o:p></o:p></span></p>

<p class=Iauiue><span style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=11><span style='text-transform:uppercase;mso-ansi-language:RU'>2.1.12.5.
Н</span><span style='mso-ansi-language:RU'>едостатки и ограничения файловой
системы </span><span lang=EN-US>s</span><span style='mso-ansi-language:RU'>5</span><span
lang=EN-US>fs</span><span style='mso-ansi-language:RU'><o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>1. С точки зрения надежности
слабым местом в файловой системе является суперблок, так как при его
повреждении файловая система не может использоваться. Так как суперблок
хранится в единственном экземпляре, вероятность появления ошибок достаточно
высокая.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>2. Относительно низкая
производительность связана с размещением файловых компонентов на диске:
индексный дескриптор размещается в начале файловой системы, а блоки хранения
данных – на остальном пространстве диска, а при работе с файлами происходит как
обращение к метаданным, как и блокам данных файла, и так как эти элементы могут
быть достаточно разнесены по файловому пространству, необходимо перемещать
головки диска, что увеличивает время.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>3. Использование дискового
пространства не оптимально. Для повышения производительности файловой системы
желательно использовать блоки большого размера, но если файлы имеют небольшой
размер и их количество значительно, получаются значительные потери дискового пространства
из-за недозаполнения блоков.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>4. Массив индексных
дескрипторов имеет фиксированный размер, задаваемый при создании файловой
системы. Этот размер накладывает ограничения на максимальное число файлов,
которые могут существовать в файловой системе.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Ограничение
на длину имени файла - 14 символов. Максимальное число индексных дескрипторов
65535.<o:p></o:p></span></p>

<h3><a name="_Toc215646279"></a><a name="_Toc41918454"></a><a
name="_Toc41918283"><span style='mso-bookmark:_Toc41918454'><span
style='mso-bookmark:_Toc215646279'>2.1.13. <span style='text-transform:uppercase'>Ф</span>айловая
система </span></span></a><span style='mso-bookmark:_Toc41918283'><span
style='mso-bookmark:_Toc41918454'><span style='mso-bookmark:_Toc215646279'><span
lang=EN-US style='mso-ansi-language:EN-US'>FFS</span> (</span></span></span><span
style='mso-bookmark:_Toc41918283'><span style='mso-bookmark:_Toc41918454'><span
style='mso-bookmark:_Toc215646279'><span lang=EN-US style='mso-ansi-language:
EN-US'>Fast</span><span lang=EN-US> </span></span></span></span><span
style='mso-bookmark:_Toc41918283'><span style='mso-bookmark:_Toc41918454'><span
style='mso-bookmark:_Toc215646279'><span lang=EN-US style='mso-ansi-language:
EN-US'>File</span><span lang=EN-US> </span></span></span></span><span
style='mso-bookmark:_Toc41918283'><span style='mso-bookmark:_Toc41918454'><span
style='mso-bookmark:_Toc215646279'><span lang=EN-US style='mso-ansi-language:
EN-US'>System</span>)</span></span></span></h3>

<p class=11><span style='mso-ansi-language:RU'><o:p>&nbsp;</o:p></span></p>

<p class=11><span style='mso-ansi-language:RU'>2.1</span><span lang=EN-US>.</span><span
style='mso-ansi-language:RU'>13</span><span lang=EN-US>.1. Структура файловой
системы FFS</span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid black .75pt;
 mso-padding-alt:0cm 5.4pt 0cm 5.4pt;mso-border-insideh:.75pt solid black;
 mso-border-insidev:.75pt solid black'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes'>
  <td width=80 valign=top style='width:47.95pt;border:solid black 1.0pt;
  mso-border-alt:solid black .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
  mso-bidi-font-size:10.0pt'>Супер-блок<o:p></o:p></span></p>
  </td>
  <td width=130 valign=top style='width:77.95pt;border:solid black 1.0pt;
  border-left:none;mso-border-left-alt:solid black .75pt;mso-border-alt:solid black .75pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
  mso-bidi-font-size:10.0pt'>Массив свободных блоков и индексных дескрипторов<o:p></o:p></span></p>
  </td>
  <td width=95 valign=top style='width:2.0cm;border:solid black 1.0pt;
  border-left:none;mso-border-left-alt:solid black .75pt;mso-border-alt:solid black .75pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
  mso-bidi-font-size:10.0pt'>Массив индек-сных дес-крипто-ров<o:p></o:p></span></p>
  </td>
  <td width=83 valign=top style='width:49.6pt;border:solid black 1.0pt;
  border-left:none;mso-border-left-alt:solid black .75pt;mso-border-alt:solid black .75pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
  mso-bidi-font-size:10.0pt'>Блоки хране-ния дан-ных<o:p></o:p></span></p>
  </td>
  <td width=83 valign=top style='width:49.65pt;border:solid black 1.0pt;
  border-left:none;mso-border-left-alt:solid black .75pt;mso-border-alt:solid black .75pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
  mso-bidi-font-size:10.0pt'>Супер-блок<o:p></o:p></span></p>
  </td>
  <td width=130 valign=top style='width:77.95pt;border:solid black 1.0pt;
  border-left:none;mso-border-left-alt:solid black .75pt;mso-border-alt:solid black .75pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
  mso-bidi-font-size:10.0pt'>Массив свободных блоков и идексных дескрип-торов<o:p></o:p></span></p>
  </td>
  <td width=95 valign=top style='width:2.0cm;border:solid black 1.0pt;
  border-left:none;mso-border-left-alt:solid black .75pt;mso-border-alt:solid black .75pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
  mso-bidi-font-size:10.0pt'>Массив индек-сных дес-крипто-ров<o:p></o:p></span></p>
  </td>
  <td width=83 valign=top style='width:49.6pt;border:solid black 1.0pt;
  border-left:none;mso-border-left-alt:solid black .75pt;mso-border-alt:solid black .75pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
  mso-bidi-font-size:10.0pt'>Блоки хране-ния дан-ных<o:p></o:p></span></p>
  </td>
  <td width=47 valign=top style='width:1.0cm;border:solid black 1.0pt;
  border-left:none;mso-border-left-alt:solid black .75pt;mso-border-alt:solid black .75pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
  mso-bidi-font-size:10.0pt'>Супер-блок<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue align=center style='text-align:center'><span style='font-size:
14.0pt;mso-bidi-font-size:10.0pt'>Рис. 2.8.<span style='mso-spacerun:yes'> 
</span>Структура файловой системы </span><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>FFS</span><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'><o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Файловая система FFS
обладает полной функциональностью системы s5fs и использует те же структуры
данных ядра ОС. Отличия касаются расположения файловой системы на диске,
дисковых структур данных и алгоритмов размещения свободных блоков.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Здесь суперблок также
содержит полное описание файловой системы и располагается в начале раздела, но
в нём не хранятся данные о свободном пространстве файловой системы, т.е.
дескрипторы свободных блоков и индексные дескрипторы. Следовательно данные
суперблока<span style='mso-spacerun:yes'>  </span>остаются неизменными на
протяжении существования файловой системы. Для повышения надёжности файловой
системы суперблок дублируется.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>Организация файловой системы
предусматривает логическое деление дискового раздела на одну или несколько
групп цилиндров. Группа цилиндров -несколько последовательных дисковых
цилиндров. Каждая группа цилиндров содержит управляющую информацию, включающую
резервную копию суперблока, массив индексных дескрипторов, данные о свободных
блоках, информацию об использовании дисковых блоков в группе. Для каждой группы
цилиндров при создании файловой системы выделяется место под определенное
количество индексных дескрипторов. Обычно на каждые два килобайта блоков
хранящихся данных создается один индексный дескриптор. Следовательно, есть
ограничение не общее количество файлов, которое может быть записано в одной
группе цилиндров.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>В этой
файловой системе кластеры индексных дескрипторов располагаются по всему
дисковому разделу, а не в его начале. За счёт этого достигается уменьшение
время доступа к данным файла, т.к. блоки данных располагаются ближе к
описывающим их индексным дескрипторам. Это также повышает надёжность файловой
системы, т.к. уменьшается вероятность потери всех индексных дескрипторов в
случае сбоя.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Управляющая
информация располагается с различными смещениями от начала группы цилиндров.
Это ведёт к тому, что управляющая информация не располагается на одной дисковой
пластине, иначе выход из строя одной пластины привел бы к выходу из строя всей
файловой системы.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Производительность
файловой системы существенно зависит от размера блока хранения данных. Чем
больше размер блока, тем больше данных может быть прочитано без поиска и
перемещения дисковых головок. FFS поддерживает размер блока до 64Kb. Для
преодоления проблемы потери дискового пространства вводится возможность фрагментации
дискового блока. Каждый блок дополнительно разбивается на 2, 4 или 8 фрагментов.
Блок является единицей передачи данных в операциях ввода/вывода, а фрагмент
определяет адресуемую единицу хранения данных на диске. Минимальный размер
сегмента определяется размером сектора.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Информация
о свободных блоках и фрагментах хранится виде битовой карты блоков. Карта
блоков, связанная с определенной группой цилиндров, описывает свободное
пространство в фрагментах. Для определения свободен фрагмент или занят, ядро ОС
анализирует биты карты.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Файловая
система FFS при размещении блоков использует стратегию, направленную на
увеличение производительности. Основные принципы этой стратегии таковы.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>1. Файл по возможности
размещается в блоках хранения данных, принадлежащих одной группе цилиндров, где
расположены его метаданные.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>2. Все файлы каталога, по
возможности, размещаются в одной группе цилиндров.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>3. Каждый новый каталог, по
возможности, помещается в группу цилиндров, отличную от группы родительского
каталога. Этим достигается равномерное распределение данных по диску.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify;text-indent:1.0cm'><span
style='font-size:14.0pt;mso-bidi-font-size:10.0pt'>4. Последовательные блоки
размещаются, исходя из оптимизации физического доступа.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Существует
определенный момент времени между завершением чтения блока и моментом чтения
следующего блока. За это время диск совершает поворот на некоторый угол. Таким
образом, следующий блок для чтения должен, по возможности, располагаться с
пропуском нескольких секторов. В этом случаи не требуется совершать пустые
обороты диска, т.е. правила размещения свободных блоков на диске направлены, с
одной стороны, на уменьшение времени перемещения головок и пустых оборотов
дисков, а с другой стороны - на равномерное распределение данных по диску.<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><span style='mso-tab-count:1'>        </span>Производительность
данной файловой системы хороша при не слишком большой загрузке диска и
ухудшается при малом свободном пространстве (менее 10% объёма).<o:p></o:p></span></p>

<p class=Iauiue style='text-align:justify'><span style='font-size:14.0pt;
mso-bidi-font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=11><span style='mso-ansi-language:RU'>2.1.13.2. Каталоги </span><span
lang=EN-US>FFS</span><span style='mso-ansi-language:RU'><o:p></o:p></span></p>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoNormal style='text-align:justify'><span style='mso-tab-count:1'>        </span>Структура
каталогов файловой системы FFS изменена для обеспечения поддержки<span
style='mso-spacerun:yes'>  </span>длинных имен файлов (до 255 символов). Вместо
таблиц, представляющих каталоги, здесь используется список структур, которые
имеют следующий формат:</p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .75pt;
 mso-padding-alt:0cm 5.4pt 0cm 5.4pt;mso-border-insideh:.75pt solid windowtext;
 mso-border-insidev:.75pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=198 colspan=4 valign=top style='width:118.8pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>137</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=198 colspan=4 valign=top style='width:118.8pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .75pt;mso-border-alt:
  solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>4</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=198 colspan=4 valign=top style='width:118.8pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .75pt;mso-border-alt:
  solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>1</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=45 valign=top style='width:26.7pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .75pt;mso-border-alt:
  solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>‘.’</p>
  </td>
  <td width=54 valign=top style='width:32.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .75pt;mso-border-left-alt:solid windowtext .75pt;
  mso-border-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>0</p>
  </td>
  <td width=54 valign=top style='width:32.45pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .75pt;mso-border-left-alt:solid windowtext .75pt;
  mso-border-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>0</p>
  </td>
  <td width=46 valign=top style='width:27.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .75pt;mso-border-left-alt:solid windowtext .75pt;
  mso-border-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>0</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=198 colspan=4 valign=top style='width:118.8pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .75pt;mso-border-alt:
  solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>237</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5'>
  <td width=198 colspan=4 valign=top style='width:118.8pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .75pt;mso-border-alt:
  solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>4</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6'>
  <td width=198 colspan=4 valign=top style='width:118.8pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .75pt;mso-border-alt:
  solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>2</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:7'>
  <td width=45 valign=top style='width:26.7pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .75pt;mso-border-alt:
  solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>‘.’</p>
  </td>
  <td width=54 valign=top style='width:32.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .75pt;mso-border-left-alt:solid windowtext .75pt;
  mso-border-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>‘.’</p>
  </td>
  <td width=54 valign=top style='width:32.45pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .75pt;mso-border-left-alt:solid windowtext .75pt;
  mso-border-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>0</p>
  </td>
  <td width=46 valign=top style='width:27.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .75pt;mso-border-left-alt:solid windowtext .75pt;
  mso-border-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>0</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:8'>
  <td width=198 colspan=4 valign=top style='width:118.8pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .75pt;mso-border-alt:
  solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>945</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:9'>
  <td width=198 colspan=4 valign=top style='width:118.8pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .75pt;mso-border-alt:
  solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>12</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:10'>
  <td width=198 colspan=4 valign=top style='width:118.8pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .75pt;mso-border-alt:
  solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>9</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:11'>
  <td width=45 valign=top style='width:26.7pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .75pt;mso-border-alt:
  solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>‘f’</p>
  </td>
  <td width=54 valign=top style='width:32.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .75pt;mso-border-left-alt:solid windowtext .75pt;
  mso-border-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>‘i</p>
  </td>
  <td width=54 valign=top style='width:32.45pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .75pt;mso-border-left-alt:solid windowtext .75pt;
  mso-border-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>‘l’</p>
  </td>
  <td width=46 valign=top style='width:27.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .75pt;mso-border-left-alt:solid windowtext .75pt;
  mso-border-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>‘e’</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:12'>
  <td width=45 valign=top style='width:26.7pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .75pt;mso-border-alt:
  solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>‘-‘</p>
  </td>
  <td width=54 valign=top style='width:32.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .75pt;mso-border-left-alt:solid windowtext .75pt;
  mso-border-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>‘p’</p>
  </td>
  <td width=54 valign=top style='width:32.45pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .75pt;mso-border-left-alt:solid windowtext .75pt;
  mso-border-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>‘r’</p>
  </td>
  <td width=46 valign=top style='width:27.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .75pt;mso-border-left-alt:solid windowtext .75pt;
  mso-border-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>‘o’</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:13;mso-yfti-lastrow:yes'>
  <td width=45 valign=top style='width:26.7pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .75pt;mso-border-alt:
  solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>‘g’</p>
  </td>
  <td width=54 valign=top style='width:32.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .75pt;mso-border-left-alt:solid windowtext .75pt;
  mso-border-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>0</p>
  </td>
  <td width=54 valign=top style='width:32.45pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .75pt;mso-border-left-alt:solid windowtext .75pt;
  mso-border-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>0</p>
  </td>
  <td width=46 valign=top style='width:27.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .75pt;mso-border-left-alt:solid windowtext .75pt;
  mso-border-alt:solid windowtext .75pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;mso-element:frame;
  mso-element-frame-hspace:9.0pt;mso-element-wrap:auto;mso-element-anchor-vertical:
  paragraph;mso-element-anchor-horizontal:page;mso-element-left:114.05pt;
  mso-element-top:.85pt;mso-height-rule:exactly'>0</p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='text-align:justify'><span style='mso-tab-count:2'>                </span>d_ino<span
style='mso-spacerun:yes'>     </span><span style='mso-tab-count:1'>  </span><span
style='mso-spacerun:yes'> </span>- номер индексного дескриптора;</p>

<p class=MsoNormal style='text-align:justify'><span style='mso-tab-count:2'>                </span>d_reclen<span
style='mso-spacerun:yes'>  </span><span style='mso-tab-count:1'> </span><span
style='mso-spacerun:yes'> </span>- длина записи;</p>

<p class=MsoNormal style='text-align:justify'><span style='mso-tab-count:2'>                </span>d_namelen
- длина имени файла;</p>

<p class=MsoNormal style='text-align:justify'><span style='mso-tab-count:2'>                </span>d_name[]<span
style='mso-spacerun:yes'>   </span>- имя файла.</p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'><span style='mso-tab-count:1'>        </span></p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;text-indent:1.0cm'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='text-align:justify;text-indent:1.0cm'>Имя файла имеет
переменную длину, дополняемую нулями до 4-х байтной границы. <span
style='mso-tab-count:1'> </span>При удалении имени файла значение первого поля
устанавливается в 0, а освободившееся число байт прибавляется к полю <b
style='mso-bidi-font-weight:normal'>d_reclen</b> предыдущей записи.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

</div>

</body>

</html>
